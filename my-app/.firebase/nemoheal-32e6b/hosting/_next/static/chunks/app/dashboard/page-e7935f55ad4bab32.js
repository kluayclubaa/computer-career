(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1522:(e,s,t)=>{Promise.resolve().then(t.bind(t,5186))},5186:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var r=t(5155),a=t(2115),l=t(5317),n=t(6104);function c(){let[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=(0,l.P)((0,l.rJ)(n.db,"userJourneys"),(0,l.My)("createdAt","desc")),t=(0,l.aQ)(e,e=>{s(e.docs.map(e=>{let s=e.data();return{id:e.id,...s,createdAt:s.createdAt.toDate().toLocaleString("th-TH")}})),c(!1)});return()=>t()},[]),t)?(0,r.jsx)("p",{children:"กำลังโหลด..."}):e.length?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse shadow bg-white",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-[#00796b] text-white",children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left",children:"วันที่สร้าง"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left",children:"ข้อมูลผู้ใช้"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left",children:"รายละเอียดการเดินทาง"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>{var s,t,a,l,n;return(0,r.jsxs)("tr",{className:"hover:bg-[#e0f2f1] transition-colors border-b",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.createdAt}),(0,r.jsxs)("td",{className:"px-4 py-3",children:[(0,r.jsx)("strong",{children:"ชื่อ:"})," ",(null==(s=e.user)?void 0:s.name)||"N/A"," ",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"อายุ:"})," ",(null==(t=e.user)?void 0:t.age)||"N/A"," ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"ต้องการความช่วยเหลือ:"})," ",(null==(a=e.contact)?void 0:a.helpNeeded)||"N/A"," ",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Line\xa0ID:"})," ",(null==(l=e.contact)?void 0:l.lineId)||"N/A"," ",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"เบอร์โทร:"})," ",(null==(n=e.contact)?void 0:n.phone)||"N/A"]}),(0,r.jsxs)("td",{className:"px-4 py-3 space-y-2",children:[d("คำถามเริ่มต้น",e.questionOverlay),d("ดอกไม้",e.flower),d("ท้องฟ้า",e.sky),d("โต๊ะปริศนา",e.table),d("ตัวตน",e.self),d("การเดินทางในวัยเด็ก",e.childJourney),d("ข้อความจากนีโม่",e.nemo)]})]},e.id)})})]})}):(0,r.jsx)("p",{children:"ยังไม่มีข้อมูลการเดินทาง"})}function d(e,s){return s&&0!==Object.keys(s).length?(0,r.jsxs)("details",{className:"rounded border p-2",children:[(0,r.jsx)("summary",{className:"cursor-pointer font-semibold",children:e}),(0,r.jsx)("ul",{className:"ml-4 list-disc",children:Object.entries(s).map(e=>{let[s,t]=e;return(0,r.jsxs)("li",{children:[s,": ",String(t)]},s)})})]}):null}},6104:(e,s,t)=>{"use strict";t.d(s,{c:()=>c,db:()=>n});var r=t(3915),a=t(5317);let l=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyA_ucoMZQXQo1dEe4lxxR2IaUKhIyS0S8k",authDomain:"nemoheal-32e6b.firebaseapp.com",projectId:"nemoheal-32e6b",storageBucket:"nemoheal-32e6b.appspot.com",messagingSenderId:"1087905726832",appId:"1:1087905726832:web:d4eb26ae4ad8c395278fb5",measurementId:"G-5R2GWZWLBB"}),n=(0,a.aU)(l);async function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;try{let t=await (0,a.gS)((0,a.rJ)(s,"userJourneys"),{...e,createdAt:(0,a.O5)()});return{success:!0,id:t.id}}catch(e){return console.error("saveDataToFirebase error:",e),{success:!1,error:e}}}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,399,441,684,358],()=>s(1522)),_N_E=e.O()}]);