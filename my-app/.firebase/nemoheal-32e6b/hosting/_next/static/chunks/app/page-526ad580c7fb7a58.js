(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var o=r(5155),n=r(2115);r(2699);var i=r(802);let l=e=>{let{videoSrc:t,onVideoReady:r=()=>{},className:l=""}=e,s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=s.current;if(!e)return;i.Ay.fromTo(e,{opacity:0},{opacity:1,duration:2,ease:"power2.inOut"});let t=()=>r();return e.addEventListener("canplaythrough",t,{once:!0}),()=>{e.removeEventListener("canplaythrough",t)}},[r]),(0,o.jsx)("div",{className:"fixed inset-0 -z-10 overflow-hidden bg-black ".concat(l),children:(0,o.jsx)("video",{ref:s,src:t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover opacity-0"})})},s={position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",padding:20,zIndex:20,boxSizing:"border-box"},a={fontSize:"clamp(1.3rem,4vw,2.3rem)",textAlign:"center",lineHeight:1.6,maxWidth:"90%",textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},c={width:"90%",maxWidth:650,textAlign:"center",backdropFilter:"blur(6px)",background:"rgba(0,0,0,0.45)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:20,padding:"2.2rem 1.8rem",boxSizing:"border-box"},d={width:"100%",padding:"0.9rem 1rem",borderRadius:40,border:"1px solid rgba(255,255,255,.4)",background:"rgba(255,255,255,.15)",color:"white",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"transform .25s ease"},p=e=>{let{userName:t,storyIntro:r="สวัสดีคนเก่ง",onOverlayComplete:l}=e,p=(0,n.useRef)(null),u=(0,n.useRef)(null),m=(0,n.useRef)(null),x=(0,n.useRef)(null),y=(0,n.useRef)(null),[g,f]=(0,n.useState)("intro"),[h,b]=(0,n.useState)(""),[w,j]=(0,n.useState)(5),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e&&i.Ay.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:t,ease:"power2.out"})},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0;return e&&i.Ay.to(e,{opacity:0,y:-30,duration:t,ease:"power2.in",delay:r,onComplete:o})};(0,n.useEffect)(()=>{"intro"===g&&(v(p.current,1.3),S(p.current,1,4,()=>f("form")))},[g]),(0,n.useEffect)(()=>{"form"===g&&v(u.current,1)},[g]),(0,n.useEffect)(()=>{"holiday"===g&&(v(m.current,1.2),S(m.current,1,3,()=>f("rest")))},[g]),(0,n.useEffect)(()=>{"rest"===g&&(v(x.current,1.2),S(x.current,1,3,()=>f("choice")))},[g]),(0,n.useEffect)(()=>{"choice"===g&&v(y.current,1)},[g]);let k=e=>{l(e,h,w)};return(0,o.jsxs)("div",{style:s,children:["intro"===g&&(0,o.jsx)("p",{ref:p,style:a,children:r}),"form"===g&&(0,o.jsxs)("div",{ref:u,style:c,children:[(0,o.jsx)("h2",{style:{fontSize:"clamp(1.4rem,4.2vw,2rem)",marginBottom:"1.3rem"},children:"มีอะไรอยากเล่าไหม\xa0นีโม่พร้อมรับฟัง"}),(0,o.jsx)("textarea",{value:h,onChange:e=>b(e.target.value),placeholder:"พิมพ์เล่าได้เต็มที่เลย...",rows:4,style:{width:"100%",padding:"1rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.15)",color:"white",resize:"vertical",marginBottom:"1.5rem",boxSizing:"border-box"}}),(0,o.jsxs)("label",{style:{display:"block",marginBottom:".6rem"},children:["เหนื่อยมั้ย\xa0(",(0,o.jsx)("strong",{children:w}),")"]}),(0,o.jsx)("input",{type:"range",min:0,max:10,value:w,onChange:e=>j(Number(e.target.value)),style:{width:"100%"}}),(0,o.jsx)("button",{onClick:()=>{S(u.current,.6,0,()=>f("holiday"))},style:{...d,marginTop:"2rem",background:"#fff",color:"#1a1a1a"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:"ส่งต่อความรู้สึก"})]}),"holiday"===g&&(0,o.jsxs)("p",{ref:m,style:a,children:["วันนี้เป็นวันหยุดของ\xa0",t]}),"rest"===g&&(0,o.jsxs)("p",{ref:x,style:a,children:["ตอนนี้\xa0",t,"\xa0ได้โอกาสพักผ่อนจากทุกเรื่อง"]}),"choice"===g&&(0,o.jsxs)("div",{ref:y,style:c,children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.4rem,4vw,2rem)",marginBottom:"1.6rem"},children:["\xa0",t,"\xa0อยากให้วันนี้",(0,o.jsx)("br",{}),"เป็นวันแบบไหน?"]}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:["วันที่มีเเดดร่ำไรอ่อนๆ","วันที่มีรุ้งกินน้ำหลังฝนตก","วันที่อากาศปลอดโปร่งฟ้าโปร่งใส","วันที่มีเเสงเเดดจ้ามีนกบินมา"].map(e=>(0,o.jsx)("button",{style:d,onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",onClick:()=>k(e),children:e},e))})]})]})},u=e=>{let{onStart:t}=e,r=(0,n.useRef)(null),[l,s]=(0,n.useState)(""),[a,c]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=r.current;if(e){let t=e.querySelector(".home-title"),r=e.querySelector(".home-subtitle"),o=e.querySelector(".home-inputs"),n=e.querySelector(".home-button");i.Ay.timeline().fromTo(t,{y:50,opacity:0},{y:0,opacity:1,duration:1.2,ease:"power3.out"}).fromTo(r,{y:30,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out"},"-=0.9").fromTo(o,{y:20,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out"},"-=0.8").fromTo(n,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"elastic.out(1, 0.75)"},"-=0.7")}},[]),(0,o.jsxs)("div",{ref:r,style:{backgroundColor:"black",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",position:"absolute",top:0,left:0,zIndex:100,padding:"5vw",textAlign:"center",boxSizing:"border-box"},children:[(0,o.jsx)("button",{}),(0,o.jsxs)("h1",{className:"home-title",style:{fontSize:"clamp(2rem, 6vw, 4rem)",textShadow:"3px 3px 6px rgba(0,0,0,0.5)",marginBottom:"1rem",lineHeight:"1.3"},children:["สวัสดี ยินดีคนเก่ง",(0,o.jsx)("br",{})," ต้อนรับสู่นีโม่ขอฮีล"]}),(0,o.jsx)("p",{className:"home-subtitle",style:{fontSize:"clamp(1rem, 3.5vw, 1.5rem)",maxWidth:"90%",color:"#E0E0E0",textShadow:"1px 1px 3px rgba(0,0,0,0.7)",marginBottom:"2rem",lineHeight:"1.6"},children:"เเฮร่! ว่าเเต่คนเก่งชื่ออะไรเอ่ย"}),(0,o.jsxs)("div",{className:"home-inputs",style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"400px",marginBottom:"2.5rem"},children:[(0,o.jsx)("input",{type:"text",placeholder:"ชื่อของคุณ",value:l,onChange:e=>s(e.target.value),style:{fontSize:"clamp(1rem, 3vw, 1.1rem)",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.5)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",textAlign:"center",width:"100%",boxSizing:"border-box"}}),(0,o.jsx)("input",{type:"number",placeholder:"อายุ",value:a,onChange:e=>c(e.target.value),style:{fontSize:"clamp(1rem, 3vw, 1.1rem)",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.5)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",textAlign:"center",width:"100%",boxSizing:"border-box"}})]}),(0,o.jsx)("button",{className:"home-button",onClick:()=>{if(!l.trim()||!a.trim())return void alert("เเฮร่! บอกชื่อกับอายุก่อนสิคนเก่ง");r.current&&i.Ay.to(r.current,{opacity:0,duration:.8,ease:"power2.in",onComplete:()=>t(l,a)})},style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)",fontWeight:"bold",color:"#1a1a1a",backgroundColor:"#FFFFFF",padding:"1rem 2.5rem",borderRadius:"50px",border:"none",cursor:"pointer",boxShadow:"0 5px 20px rgba(255, 255, 255, 0.3)",transition:"transform 0.3s ease, box-shadow 0.3s ease",letterSpacing:"1px",maxWidth:"90vw",whiteSpace:"nowrap"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-5px) scale(1.05)",e.currentTarget.style.boxShadow="0 8px 25px rgba(255, 255, 255, 0.4)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 5px 20px rgba(255, 255, 255, 0.3)"},children:"มาร่วมเดินทางไปกับเราสิ"})]})},m={width:"100%",padding:"1rem",fontSize:"1rem",border:"1px solid #CCCCCC",borderRadius:"8px",boxSizing:"border-box",textAlign:"center"},x={marginTop:"3rem",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"bold",color:"white",backgroundColor:"#007AFF",border:"none",borderRadius:"50px",cursor:"pointer",transition:"transform 0.2s ease, background-color 0.2s ease"},y=e=>{let{onComplete:t}=e,r=(0,n.useRef)(null),[l,s]=(0,n.useState)("yes"),[a,c]=(0,n.useState)(""),[d,p]=(0,n.useState)("");(0,n.useEffect)(()=>{i.Ay.fromTo(r.current,{opacity:0,y:30},{opacity:1,y:0,duration:1,ease:"power3.out"})},[]);let u="yes"===l;return(0,o.jsxs)("div",{ref:r,style:{backgroundColor:"#FFFFFF",color:"#4A4A4A",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",boxSizing:"border-box",fontFamily:"sans-serif"},children:[(0,o.jsx)("h2",{style:{fontSize:"clamp(1.5rem, 5vw, 2.2rem)",fontWeight:"normal",marginBottom:"0.5rem"},children:"ต้องการความช่วยเหลือไหมคะ"}),(0,o.jsx)("p",{style:{fontSize:"1.5rem",marginBottom:"2rem"},children:"^^"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"2rem",marginBottom:"3rem",fontSize:"1.1rem"},children:[(0,o.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,o.jsx)("input",{type:"radio",name:"help",value:"yes",checked:"yes"===l,onChange:()=>s("yes"),style:{marginRight:"0.5rem",transform:"scale(1.3)"}}),"ต้องการ"]}),(0,o.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,o.jsx)("input",{type:"radio",name:"help",value:"no",checked:"no"===l,onChange:()=>s("no"),style:{marginRight:"0.5rem",transform:"scale(1.3)"}}),"ไม่ต้องการ"]})]}),(0,o.jsxs)("div",{style:{width:"100%",maxWidth:"400px",transition:"opacity 0.5s ease, transform 0.5s ease",opacity:u?1:.5,transform:u?"translateY(0)":"translateY(-10px)"},children:[(0,o.jsx)("p",{style:{fontSize:"1.2rem",marginBottom:"1.5rem",borderBottom:"1px solid #E0E0E0",paddingBottom:"0.5rem"},children:"ช่องทางการติดต่อเพิ่มเติม"}),(0,o.jsx)("input",{type:"text",placeholder:"ID Line",value:a,onChange:e=>c(e.target.value),disabled:!u,style:{...m,marginBottom:"1rem"}}),(0,o.jsx)("input",{type:"text",placeholder:"เบอร์มือถือ",value:d,onChange:e=>p(e.target.value),disabled:!u,style:m})]}),(0,o.jsx)("button",{onClick:()=>{if("yes"===l&&!a.trim()&&!d.trim())return void alert("หากต้องการความช่วยเหลือ กรุณากรอกช่องทางการติดต่ออย่างน้อย 1 ช่องทางนะคะ");i.Ay.to(r.current,{opacity:0,y:-30,duration:.8,ease:"power2.in",onComplete:()=>{t({helpNeeded:l,lineId:"yes"===l?a:"",phone:"yes"===l?d:""})}})},style:x,children:"ยืนยันและเดินทางต่อ"})]})},g=["แดง","ชมพู","เขียว","ขาว","ม่วง","น้ำเงิน"],f=["ความรัก","ความอ่อนโยนเอาใจใส่","ความบริสุทธิ","ความลึกลับ","ความสงบเงียบ","ความสบายใจ"],h=e=>{let{userName:t,onComplete:r}=e,[s,a]=(0,n.useState)("gift"),[c,d]=(0,n.useState)(""),p=(0,n.useRef)(null),u=(0,n.useRef)(null),m=(0,n.useRef)(null),x=(0,n.useRef)(null),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.4;return e&&i.Ay.fromTo(e,{opacity:0,y:40},{opacity:1,y:0,duration:t,ease:"power3.out"})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e&&i.Ay.to(e,{opacity:0,y:-40,duration:t,delay:r,ease:"power3.in"})};(0,n.useEffect)(()=>{if(p.current&&("gift"===s&&(y(m.current,1.6),i.Ay.fromTo(x.current,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1.6,ease:"elastic.out(1,0.6)",delay:.4})),("askColor"===s||"askFeeling"===s)&&y(u.current,1.6),"giftAll"===s)){y(u.current,1.6);let e=setTimeout(()=>r(c,b.current),5e3);return()=>clearTimeout(e)}},[s]);let b=(0,n.useRef)(""),w=e=>{d(e),h(u.current,1.2),setTimeout(()=>a("askFeeling"),1400)},j=e=>{b.current=e,h(u.current,1.2),setTimeout(()=>a("giftAll"),1400)},v=(0,n.useMemo)(()=>(0,o.jsx)(l,{videoSrc:"/garden1.mp4",onVideoReady:()=>{}},"flowerBg"),[]);return(0,o.jsxs)("div",{ref:p,style:{position:"absolute",inset:0,background:"gift"===s?"#000":"transparent",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white",zIndex:60},children:["gift"===s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.6rem,5vw,3rem)",marginBottom:"1.6rem",textShadow:"2px 2px 6px #000"},children:["อะนี่ดอกไม้ให้\xa0",t]}),(0,o.jsx)("img",{ref:m,src:"/flower/1.png",alt:"flower",style:{maxWidth:"55vw",width:280,borderRadius:20,boxShadow:"0 4px 20px rgba(255,255,255,0.25)",marginBottom:"1.8rem"}}),(0,o.jsxs)("p",{style:{fontSize:"clamp(1rem,3vw,1.4rem)",marginBottom:"2.2rem",lineHeight:1.6},children:["รู้มั้ย\xa0มันเหมาะกับ\xa0",t,"\xa0มาก"]}),(0,o.jsx)("button",{ref:x,onClick:()=>a("askColor"),style:{width:80,height:80,borderRadius:"50%",border:"none",background:"rgba(255,255,255,0.18)",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2.2rem",color:"#FF6B6B",cursor:"pointer"},children:"❤️"})]}),"gift"!==s&&v,("askColor"===s||"askFeeling"===s||"giftAll"===s)&&(0,o.jsxs)("div",{ref:u,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0 5vw",textAlign:"center"},children:["askColor"===s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.2rem)",marginBottom:"2.4rem",textShadow:"2px 2px 6px #0006"},children:["ถ้า\xa0Nemo\xa0ให้ดอกไม้\xa0",t,(0,o.jsx)("br",{}),"อยากได้ดอกไม้สีอะไร?"]}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(120px,1fr))",gap:"1.2rem",width:"100%",maxWidth:620},children:g.map(e=>(0,o.jsx)("button",{onClick:()=>w(e),style:{padding:"1rem 1.2rem",borderRadius:38,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(0,0,0,0.35)",color:"white",fontSize:"1rem",cursor:"pointer"},children:e},e))})]}),"askFeeling"===s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.2rem)",marginBottom:"2.4rem",textShadow:"2px 2px 6px #0006"},children:["เมื่อคุณเห็นดอกไม้ที่ตัวเองเลือก",(0,o.jsx)("br",{}),"ทำให้รู้สึกอย่างไร?"]}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(140px,1fr))",gap:"1.2rem",width:"100%",maxWidth:700},children:f.map(e=>(0,o.jsx)("button",{onClick:()=>j(e),style:{padding:"1rem 1.2rem",borderRadius:38,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(0,0,0,0.35)",color:"white",fontSize:"1rem",cursor:"pointer"},children:e},e))})]}),"giftAll"===s&&(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.2rem)",textShadow:"2px 2px 6px #0006"},children:["อะนี่\xa0Nemo\xa0ให้ทุกสีเลย!",(0,o.jsx)("br",{}),"เราให้พิเศษเพราะ\xa0",t,"\xa0เป็นคนที่มีค่ามากเลยนะ \uD83D\uDC90"]})]})]})};function b(e){let{videoSrc:t,userName:r,onDone:s}=e,[a,c]=(0,n.useState)("intro"),[d,p]=(0,n.useState)(""),[u,m]=(0,n.useState)(null),[x,y]=(0,n.useState)(""),g={intro:(0,n.useRef)(null),form:(0,n.useRef)(null),empathy:(0,n.useRef)(null),finale:(0,n.useRef)(null),food:(0,n.useRef)(null),noMsg:(0,n.useRef)(null),happy:(0,n.useRef)(null)},f=(0,n.useMemo)(()=>(0,o.jsx)(l,{videoSrc:t,onVideoReady:()=>{}}),[t]);(0,n.useEffect)(()=>{var e;let t=null==(e=g[a])?void 0:e.current;t&&i.Ay.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:1.4,ease:"power2.out"})},[a]),(0,n.useEffect)(()=>{if("intro"===a){let e=setTimeout(()=>c("form"),5e3);return()=>clearTimeout(e)}if("finale"===a){let e=setTimeout(()=>c("food"),5e3);return()=>clearTimeout(e)}},[a]),(0,n.useEffect)(()=>{"food"===a&&"no"===u&&g.noMsg.current&&i.Ay.fromTo(g.noMsg.current,{opacity:0,y:15},{opacity:1,y:0,duration:1,ease:"power2.out"})},[a,u]);let h={base:{padding:"0.9rem 2.2rem",borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.25)",color:"#fff",fontSize:"1rem",fontWeight:700,cursor:"pointer"}};return(0,o.jsxs)("div",{style:{position:"absolute",inset:0,zIndex:70,pointerEvents:["form","empathy","food","happy"].includes(a)?"auto":"none"},children:[f,"intro"===a&&(0,o.jsx)("div",{ref:g.intro,style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)("p",{style:{fontSize:"clamp(1.6rem,4vw,2.6rem)",color:"#fff",textShadow:"2px 2px 6px #000",textAlign:"center"},children:"คุณกำลังเข้าสู่ท้องฟ้าอันสดใส"})}),"form"===a&&(0,o.jsxs)("div",{ref:g.form,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.2rem,3.8vw,2rem)",marginBottom:"1.5rem",textShadow:"2px 2px 6px #000"},children:["คุณมองรอบๆ เห็นตัวเองในอดีตที่กำลังเศร้า",(0,o.jsx)("br",{}),"อยากบอกอะไรกับตัวเองมั้ย?"]}),(0,o.jsx)("textarea",{value:d,onChange:e=>p(e.target.value),rows:4,placeholder:"พิมพ์ข้อความถึงตัวเอง...",style:{width:"100%",maxWidth:600,padding:"1rem",borderRadius:16,border:"1px solid rgba(255,255,255,.5)",background:"rgba(0,0,0,.35)",color:"#fff",marginBottom:"1.5rem"}}),(0,o.jsx)("button",{style:h.base,disabled:!d.trim(),onClick:()=>c("empathy"),children:"ส่งข้อความ"})]}),"empathy"===a&&(0,o.jsxs)("div",{ref:g.empathy,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.3rem,4vw,2.2rem)",marginBottom:"2rem",textShadow:"2px 2px 6px #000"},children:["เราเข้าใจ\xa0",r,"\xa0นะ \xa0",r,"\xa0เก่งมาก ๆ เลย",(0,o.jsx)("br",{}),"แตะที่หัวใจสิ \uD83D\uDC96"]}),(0,o.jsx)("button",{style:{width:90,height:90,borderRadius:"50%",border:"none",background:"rgba(255,255,255,.25)",color:"#FF6B6B",fontSize:"2.4rem",cursor:"pointer"},onClick:()=>c("finale"),children:"❤️"})]}),"finale"===a&&(0,o.jsx)("div",{ref:g.finale,style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#fff",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.6,padding:"0 6vw"},children:["หากในใจ\xa0",r,"\xa0มีท้องฟ้าที่มืดครึ้ม",(0,o.jsx)("br",{}),"ให้เราช่วยเปลี่ยนเป็นท้องฟ้าที่สดใสให้นะ"]})}),"food"===a&&(0,o.jsxs)("div",{ref:g.food,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.3rem,4vw,2.2rem)",marginBottom:"2rem",textShadow:"2px 2px 6px #000"},children:["จำได้มั้ยตอนเด็ก ๆ\xa0",r,"\xa0ชอบกินอะไร?"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"3rem",marginBottom:"2rem"},children:[(0,o.jsxs)("label",{style:{display:"flex",gap:"0.8rem",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"radio",checked:"yes"===u,onChange:()=>m("yes")}),"จำได้"]}),(0,o.jsxs)("label",{style:{display:"flex",gap:"0.8rem",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"radio",checked:"no"===u,onChange:()=>m("no")}),"จำไม่ได้"]})]}),"no"===u&&(0,o.jsx)("p",{ref:g.noMsg,style:{fontSize:"clamp(1.1rem,3.5vw,1.8rem)",textShadow:"2px 2px 6px #000",marginBottom:"2rem"},children:"ไม่เป็นไรนะ ค่อย ๆ นึกไปด้วยกันนะ \uD83E\uDD0D"}),u&&(0,o.jsx)("button",{style:h.base,onClick:()=>c("happy"),children:"ต่อไป"})]}),"happy"===a&&(0,o.jsxs)("div",{ref:g.happy,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.3rem,4vw,2.2rem)",marginBottom:"1.5rem",textShadow:"2px 2px 6px #000"},children:["แล้วตอนเด็ก\xa0",r,"\xa0มีความสุขกับเรื่องใดมากที่สุด?"]}),(0,o.jsx)("textarea",{value:x,onChange:e=>y(e.target.value),rows:4,placeholder:"บอกเราหน่อย...",style:{width:"100%",maxWidth:600,padding:"1rem",borderRadius:16,border:"1px solid rgba(255,255,255,.5)",background:"rgba(0,0,0,.35)",color:"#fff",marginBottom:"1.5rem"}}),(0,o.jsx)("button",{style:h.base,disabled:!x.trim(),onClick:()=>{s&&s({msgToPast:d,foodRemember:u,happyThing:x})},children:"ส่งต่อความสุข"})]})]})}let w=[{id:"table",type:"initial"},{id:"notebook",type:"message",duration:3.5,text:e=>"คุณเจอสมุดตอนเด็กที่เคยเขียนไว้... สวัสดี ".concat(e)},{id:"today",type:"input",text:()=>"วันนี้เป็นไงบ้าง?",placeholder:"บอกเราได้เลย..."},{id:"dream",type:"choice-dream",text:e=>"สิ่งที่ตอนเด็ก ".concat(e," อยากทำ ตอนนี้ได้ทำบ้างหรือยัง?"),options:[{key:"done",text:"ได้ทำแล้วทั้งหมด"},{key:"partial",text:"ทำไปบ้างแล้ว"},{key:"notYet",text:"ยังไม่ได้เริ่ม"},{key:"forgot",text:"ลืมไปแล้ว"}]},{id:"stillLike",type:"choice-stillLike",text:(e,t)=>"ไม่เจอกันนาน โตขึ้นเยอะเลย<br/>ยังชอบ “".concat(t,"” อยู่หรือเปล่า?"),options:[{key:"yes",text:"ยังคงชอบมาก"},{key:"change",text:"เฉยๆ"},{key:"unsure",text:"ไม่แน่ใจแล้ว"}]},{id:"likeSelf",type:"choice-likeSelf",text:()=>"งั้นขอถามหน่อยจิ<br/>ยังชอบตัวเองตอนนี้มั้ย?",options:[{key:"yes",text:"ชอบสิ"},{key:"notReally",text:"ไม่เเน่ใจ"},{key:"trying",text:"ไม่อะ"}]}];function j(e){let{tableImgSrc:t,userName:r,happyThing:l,onFinish:s}=e,[a,c]=(0,n.useState)(0),[d,p]=(0,n.useState)(""),[u,m]=(0,n.useState)(null),[x,y]=(0,n.useState)(null),[g,f]=(0,n.useState)(null),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=w[a],t=h.current;if(!t)return;let r=i.Ay.timeline();return r.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:1.5,ease:"power3.out"}),"message"===e.type&&(r.to(t,{opacity:0,y:-30,duration:1.5,ease:"power3.in",delay:e.duration}),r.call(b)),()=>{r.kill()}},[a]);let b=()=>{a<w.length-1&&c(e=>e+1)},j=e=>{i.Ay.to(h.current,{opacity:0,y:-30,duration:1,ease:"power3.in",onComplete:()=>{e&&e(),b()}})},v=e=>{f(e),i.Ay.to(h.current,{opacity:0,y:-30,duration:1,ease:"power3.in",onComplete:()=>{s&&u&&x&&s({howToday:d,dreamStatus:u,likeNow:x,likeSelf:e})}})},S={p:{textShadow:"2px 2px 6px #000",fontSize:"clamp(1.3rem,4vw,2.1rem)",marginBottom:"2rem",lineHeight:1.7},btn:{padding:"0.8rem 2rem",borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.25)",color:"#fff",cursor:"pointer",whiteSpace:"nowrap"}},k=w[a];return(0,o.jsx)("div",{style:{position:"absolute",inset:0,background:"#000",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",zIndex:80,overflow:"hidden"},children:(0,o.jsx)("div",{ref:h,style:{width:"100%",opacity:0},children:(()=>{switch(k.type){case"initial":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.4rem",alignItems:"center"},children:[(0,o.jsx)("p",{style:S.p,children:"ระหว่างทางคุณเจอโต๊ะปริศนาที่มีผ้าคลุม"}),(0,o.jsx)("img",{src:t,alt:"Mystery Table",onClick:()=>j(),style:{maxWidth:"60vw",width:320,cursor:"pointer",borderRadius:20,boxShadow:"0 6px 18px rgba(0,0,0,.5)"}}),(0,o.jsx)("span",{style:{fontSize:"clamp(1rem,3vw,1.4rem)",opacity:.85},children:"แตะที่โต๊ะเพื่อดูใต้ผ้าคลุม"})]});case"message":return(0,o.jsx)("p",{style:{...S.p,fontSize:"clamp(1.4rem,4vw,2.3rem)"},children:k.text(r)});case"input":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,o.jsx)("p",{style:S.p,children:k.text()}),(0,o.jsx)("textarea",{value:d,onChange:e=>p(e.target.value),rows:3,placeholder:k.placeholder,style:{width:"100%",maxWidth:520,padding:"1rem",borderRadius:14,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.1)",color:"#fff"}}),(0,o.jsx)("button",{style:{...S.btn,marginTop:"1.5rem"},disabled:!d.trim(),onClick:()=>j(),children:"ต่อไป"})]});case"choice-dream":case"choice-stillLike":case"choice-likeSelf":{let e="";return"choice-dream"===k.type?e=k.text(r):"choice-stillLike"===k.type?e=k.text(r,l):"choice-likeSelf"===k.type&&(e=k.text()),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)("p",{style:S.p,dangerouslySetInnerHTML:{__html:e}}),(0,o.jsx)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",maxWidth:"90%",width:"auto"},children:k.options.map(e=>(0,o.jsx)("button",{style:S.btn,onClick:()=>{"choice-dream"===k.type&&j(()=>m(e.key)),"choice-stillLike"===k.type&&j(()=>y(e.key)),"choice-likeSelf"===k.type&&v(e.key)},children:e.text},e.key))})]})}default:return null}})()},a)})}let v=[{id:"msg1",type:"message",text:e=>"เราเข้าใจความรู้สึกของ ".concat(e," นะ ไม่ว่าเธอจะเจอเรื่องอะไรมา")},{id:"msg2",type:"messageWithImage",text:()=>"แต่รู้มั้ย ถ้าเทียบกับเมื่อก่อน…"},{id:"msg3",type:"message",text:()=>"ตอนเธอยังเด็ก อายุน้อยกว่านี้…"},{id:"msg4",type:"message",text:()=>"เธอเก่งขึ้นมาก ๆ เลยนะที่เติบโตมาได้ขนาดนี้<br/>นีโม่ภูมิใจในตัวเธอมาก ๆ เลยนะ"},{id:"question",type:"question",text:()=>"แล้วเธอชอบตัวเองตอนไหนมากกว่า?"},{id:"end1",type:"message",text:()=>"ตอนนี้เธอกำลังอยู่กับตัวเองวัยเด็กของเธอเองนะ"},{id:"end2",type:"message",text:()=>"หลังจากนี้ โปรดใจดีอ่อนโยนกับเด็กคนนี้หน่อยนะ"}];function S(e){let{userName:t="เธอ",childImg:r,onChoose:l}=e,[s,a]=(0,n.useState)(0),[c,d]=(0,n.useState)(null),p=(0,n.useRef)(null),u=e=>Math.max(3.5,Math.min(e.split(" ").length/2.5,8));(0,n.useEffect)(()=>{let e=v[s],r=p.current;if(!r)return;let o=i.Ay.timeline();if(o.fromTo(r,{opacity:0,y:30},{opacity:1,y:0,duration:1.5,ease:"power3.out"}),e.type.startsWith("message")){let n=u(e.text(t));o.to(r,{opacity:0,y:-30,duration:1.5,ease:"power3.in",delay:n}),o.call(m)}return()=>{o.kill()}},[s]);let m=()=>{s===v.length-1?c&&l&&l(c):a(e=>e+1)},x=e=>{d(e),i.Ay.to(p.current,{opacity:0,y:-30,duration:1,ease:"power3.in",onComplete:()=>{a(e=>e+1)}})},y={fontSize:"clamp(1.3rem,4vw,2.2rem)",color:"#fff",textAlign:"center",textShadow:"2px 2px 6px #000",lineHeight:1.7,marginBottom:"1rem"},g={padding:"0.85rem 2.2rem",borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.25)",color:"#fff",cursor:"pointer",whiteSpace:"nowrap"},f=v[s];return(0,o.jsx)("div",{style:{position:"absolute",inset:0,background:"#000",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0 6vw",textAlign:"center",zIndex:90},children:(0,o.jsx)("div",{ref:p,style:{width:"100%",opacity:0},children:(()=>{switch(f.type){case"message":return(0,o.jsx)("p",{style:y,dangerouslySetInnerHTML:{__html:f.text(t)}});case"messageWithImage":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.6rem"},children:[(0,o.jsx)("img",{src:r,alt:"child",style:{maxWidth:"55vw",width:280,borderRadius:20,boxShadow:"0 6px 20px rgba(0,0,0,.6)"}}),(0,o.jsx)("p",{style:y,children:f.text(t)})]});case"question":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem"},children:[(0,o.jsx)("p",{style:y,children:f.text(t)}),(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,o.jsx)("button",{style:g,onClick:()=>x("past"),children:"ชอบตอนเด็ก"}),(0,o.jsx)("button",{style:g,onClick:()=>x("now"),children:"ชอบตอนนี้"})]})]});default:return null}})()},s)})}let k=[{phase:"age",type:"choice",text:"คิดว่าเด็กคนนี้กี่ขวบ?",options:["3-6 ปี","6-12 ปี","12-15 ปี","15-20 ปี"]},{phase:"difficulty",type:"choice",text:"คิดว่าโตขึ้นมันยากมั้ย?",options:["ยาก","ไม่เลย"]},{phase:"reflect",type:"input",text:"โตมาขนาดนี้คุณผ่านอะไรมาบ้าง?",placeholder:"ใส่ข้อความ..."},{phase:"gratitude",type:"input",text:"สิ่งที่อยากขอบคุณกับตัวเองที่ผ่านมา",placeholder:"ใส่ข้อความ..."},{phase:"apology",type:"input",text:"สิ่งที่อยากขอโทษกับเด็กคนนี้ที่เป็นคุณในอดีต",placeholder:"ใส่ข้อความ..."}];function C(e){let{onComplete:t}=e,[r,l]=(0,n.useState)(0),[s,a]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[p,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[y,g]=(0,n.useState)(""),f=(0,n.useRef)(null);(0,n.useEffect)(()=>{f.current&&i.Ay.fromTo(f.current,{opacity:0,y:30},{opacity:1,y:0,duration:1.5,ease:"power3.out"})},[r]);let h=()=>{i.Ay.to(f.current,{opacity:0,y:-30,duration:1,ease:"power3.in",onComplete:()=>{r<k.length-1&&l(r+1)}})},b=()=>{t&&i.Ay.to(f.current,{opacity:0,y:-30,duration:1,ease:"power3.in",onComplete:()=>{t({ageGuess:s,difficult:c,reflectMsg:p,gratitudeMsg:m,apologyMsg:y})}})},w={fontSize:"clamp(1.3rem,4vw,2rem)",color:"#fff",textAlign:"center",padding:"0 2rem",textShadow:"2px 2px 6px #000",marginBottom:"1.5rem"},j={padding:"0.8rem 1.5rem",borderRadius:30,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.2)",color:"#fff",cursor:"pointer",margin:"0.5rem"},v={width:"80%",maxWidth:500,padding:"1rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.15)",color:"#fff",marginBottom:"1rem",resize:"vertical"},S=k[r];return(0,o.jsx)("div",{style:{position:"absolute",inset:0,background:"#000",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:100,overflow:"hidden"},children:(0,o.jsx)("div",{ref:f,style:{textAlign:"center",width:"90%",maxWidth:"700px",opacity:0},children:(()=>{switch(S.type){case"choice":var e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{style:w,children:S.text}),(0,o.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},children:null==(e=S.options)?void 0:e.map(e=>(0,o.jsx)("button",{style:j,onClick:()=>{"age"===S.phase&&a(e),"difficulty"===S.phase&&d(e),h()},children:e},e))})]});case"input":{let e,t,r;return"reflect"===S.phase?(e=p,t=u,r=h):"gratitude"===S.phase?(e=m,t=x,r=h):(e=y,t=g,r=b),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{style:w,children:S.text}),(0,o.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),rows:4,style:v,placeholder:S.placeholder}),(0,o.jsx)("button",{style:j,disabled:!e.trim(),onClick:r,children:"❤️"})]})}default:return null}})()},r)})}let z=[{type:"message",text:"เชื่อนีโม่นะ สักวันนึงเด็กคนนี้จะโตในเเบบที่เธอต้องการ"},{type:"message",text:"ในโลกใบนี้คงไม่มีใครรู้ว่าเด็กคนนี้โตไปเจออะไรบ้าง"},{type:"message",text:"ให้กําลังใจเด็กคนนี้ทีนะ ^-^"},{type:"message",text:"ก่อนลา... เด็กคนนี้มีสิ่งที่อยากจะบอก"},{type:"message",text:"พี่เก่งมากเลยนะ ในสายตาผมมองพี่โคตรสุดยอดเลย"},{type:"choice",text:"โตขึ้นเยอะเลยพี่ เหนื่อยมั้ย?",options:["เหนื่อย","ไม่เท่าไหร่"]},{type:"message",text:"โอเคมั้ย ไหวหรือเปล่า!"},{type:"input",text:"ระบายได้นะพี่",placeholder:"ระบายความรู้สึกออกมาได้เลย..."},{type:"message",text:"มันยากมากเนอะ เข้าใจเลย กว่าจะผ่านไปได้ พี่โคตรเก่งเลย"},{type:"message",text:"ขอบคุณนะพี่ที่อดทนผ่านมาได้"},{type:"message",text:"ขอบคุณที่ผ่านมาได้จนโตขึ้นขนาดนี้ ขอบคุณที่พยายามมากนะพี่"},{type:"message",text:"หลังจากนี้ถ้าพี่เหนื่อย พักบ้างนะ เป็นห่วงนะ กินข้าวให้ครบมื้อ อย่ากดดันตัวเองมากไป"},{type:"message",text:"ถ้าไม่ไหวร้องไห้ได้นะ การร้องไห้ไม่ใช่คนแพ้เลย"},{type:"message",text:"พี่ไม่ได้โตในแบบที่พี่ไม่ชอบหรอก โลกมันเปลี่ยนไปเอง ไม่ต้องขอโทษนะ"},{type:"message",text:"บ๊ะบาย"},{type:"message",text:"ทุกอย่างย้อนกลับไม่ได้ แต่มันทำให้คุณมีวันนี้"},{type:"message",text:"ขอบคุณมากนะ ให้รางวัลตัวเองบ้าง ทุกการเติบโตมันจะเป็นบทเรียนเอง"},{type:"input",text:"ที่ผ่านมาของชีวิต... ให้บทเรียนอะไรบ้าง?",placeholder:"บทเรียนที่ได้เรียนรู้..."},{type:"message",text:"หวังว่าคุณในตอนนี้จะมีความสุขมากนะคนเก่ง"},{type:"message",text:"นีโม่ขอส่งกำลังใจให้เองนะ"},{type:"final",text:"ทานข้าวให้อร่อย นอนหลับให้เต็มอิ่ม ให้รางวัลตัวเองบ้าง เราไม่สามารถทราบความคิดใครได้ แต่เราสามารถปรับความคิดตัวเองได้นะ แคร์แค่กับคนที่เขารักเรา เอาหินจากอกมาฝากไว้ที่นีโม่ได้นะ ขอบคุณตัวเองบ้างนะ... เธอกับร่างกายเธอเก่งมาก"}];function A(e){let{onComplete:t}=e,[r,l]=(0,n.useState)(0),[s,a]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[p,u]=(0,n.useState)(""),m=(0,n.useRef)(null),x=(0,n.useRef)(null),y=e=>Math.max(3.5,Math.min(e.split(" ").length/3,8));(0,n.useEffect)(()=>{let e=z[r],t=m.current;if(t){if(x.current=i.Ay.timeline(),x.current.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:1.5,ease:"power3.out"}),"message"===e.type||"final"===e.type){let r=y(e.text);x.current.to(t,{opacity:0,y:-30,duration:1.5,ease:"power3.in",delay:r}),x.current.call(g)}return()=>{var e;null==(e=x.current)||e.kill()}}},[r]);let g=()=>{r<z.length-1?l(e=>e+1):t&&t({tiredChoice:s,ventMsg:c,lessonMsg:p})},f={fontSize:"clamp(1.5rem, 4vw, 2.2rem)",color:"#fff",textAlign:"center",padding:"0 2rem",textShadow:"2px 2px 8px #000",lineHeight:1.5},h={padding:"0.8rem 1.8rem",borderRadius:30,border:"1px solid rgba(255,255,255,0.6)",background:"rgba(255,255,255,0.25)",color:"#fff",cursor:"pointer",margin:"0.5rem",fontSize:"1rem"},b={width:"80%",maxWidth:500,padding:"1rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.15)",color:"#fff",marginBottom:"1rem",resize:"vertical",fontSize:"1rem"},w=z[r];return(0,o.jsx)("div",{style:{position:"absolute",inset:0,background:"#000",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:100,overflow:"hidden"},children:(0,o.jsx)("div",{ref:m,style:{textAlign:"center",width:"90%",maxWidth:"800px",opacity:0},children:(()=>{switch(w.type){case"choice":var e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{style:f,children:w.text}),(0,o.jsx)("div",{children:null==(e=w.options)?void 0:e.map(e=>(0,o.jsx)("button",{style:h,onClick:()=>{a(e),g()},children:e},e))})]});case"input":let t=w.text.includes("ระบาย"),r=t?c:p,n=t?d:u;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{style:f,children:w.text}),(0,o.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),rows:4,style:b,placeholder:w.placeholder}),(0,o.jsx)("button",{style:h,disabled:!r.trim(),onClick:g,children:"❤️"})]});default:return(0,o.jsx)("p",{style:f,children:w.text})}})()},r)})}let R=(0,n.forwardRef)((e,t)=>{let{src:r,volume:l=.25}=e,s=(0,n.useRef)(null);return(0,n.useImperativeHandle)(t,()=>({play(){let e=s.current;e&&e.paused&&(e.volume=0,e.play().catch(console.error),i.Ay.to(e,{volume:l,duration:2.5,ease:"power2.inOut"}))}})),(0,o.jsx)("audio",{ref:s,src:r,loop:!0,preload:"auto"})});R.displayName="GlobalAudio";var I=r(6104);function T(){let[e,t]=(0,n.useState)("home"),[r,s]=(0,n.useState)("awake"),[a,c]=(0,n.useState)({}),d=(0,n.useRef)(null),[m,x]=(0,n.useState)(!1),g=(0,n.useRef)(null);(0,n.useEffect)(()=>{g.current&&i.Ay.fromTo(g.current,{opacity:0},{opacity:1,duration:.8,ease:"power2.out"})},[e]),(0,n.useEffect)(()=>{let o;if("wake"===e)return"awake"===r&&(i.Ay.fromTo("#wake-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),i.Ay.to("#wake-msg",{opacity:0,y:-30,duration:1,delay:2.5}),o=setTimeout(()=>s("sky"),3e3)),"sky"===r&&(i.Ay.fromTo("#sky-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),i.Ay.to("#sky-msg",{opacity:0,y:-30,duration:1,delay:4}),o=setTimeout(()=>s("garden"),3e3)),"garden"===r&&(i.Ay.fromTo("#garden-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),o=setTimeout(()=>t("flower"),3e3)),()=>clearTimeout(o)},[e,r]);let f=(0,n.useCallback)((e,r)=>{let o={name:e,age:r};c(e=>({...e,user:o})),t("contact")},[]),w=(0,n.useCallback)(e=>{var r;null==(r=d.current)||r.play(),c(t=>({...t,contact:e})),t("introVideo")},[]);(0,n.useCallback)(e=>{c(t=>({...t,questionOverlay:e})),s("awake"),t("wake")},[]);let v=(0,n.useMemo)(()=>(0,o.jsx)(l,{videoSrc:"/wake.mp4",onVideoReady:()=>{}},"wakeBg"),[]);return(0,o.jsxs)("div",{ref:g,style:{position:"relative",width:"100vw",height:"100dvh",overflow:"hidden"},children:[(0,o.jsx)(R,{ref:d,src:"/canon.mp3"}),(()=>{switch(e){case"home":return(0,o.jsx)(u,{onStart:f});case"contact":return(0,o.jsx)(y,{onComplete:w});case"introVideo":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{videoSrc:"/garden1.mp4",onVideoReady:()=>{}}),a.user&&(0,o.jsx)(p,{userName:a.user.name,onOverlayComplete:(e,r,o)=>{let n={dayChoice:e,userStory:r,tired:o};c(e=>({...e,questionOverlay:n})),s("awake"),t("wake")}})]});case"wake":var n,i;return(0,o.jsxs)(o.Fragment,{children:[v,(0,o.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:50,pointerEvents:"none"},children:["awake"===r&&(0,o.jsxs)("p",{id:"wake-msg",style:{fontSize:"clamp(1.6rem,4vw,2.6rem)",color:"#FFF",textShadow:"2px 2px 6px #000"},children:["ตอนนี้\xa0",null==(n=a.user)?void 0:n.name,"\xa0กำลังตื่นจากที่นอน"]}),"sky"===r&&(0,o.jsxs)("p",{id:"sky-msg",style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#E0F7FA",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.5,padding:"0 5vw"},children:["แล้ววันนี้เป็นวันที่\xa0",null==(i=a.user)?void 0:i.name,"\xa0ต้องการ…",(0,o.jsx)("br",{}),"ช่างแปลกแฮะ\xa0ท้องฟ้าดูไม่มืดครึ้มเลย"]}),"garden"===r&&(0,o.jsxs)("p",{id:"garden-msg",style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#E0F7FA",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.5,padding:"0 5vw"},children:["คุณกําลังเดินไปที่สวนหลังบ้าน",(0,o.jsx)("br",{}),"บ้านที่คุณอยู่\xa0สวนดอกไม้สวยมากๆเลย"]})]})]});case"result":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{videoSrc:"/garden1.mp4",onVideoReady:()=>{}}),a.user&&(0,o.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:50},children:(0,o.jsxs)("div",{style:{background:"rgba(0,0,0,.7)",backdropFilter:"blur(10px)",padding:"clamp(20px,5vw,40px)",borderRadius:20,maxWidth:700,textAlign:"center",color:"#E0F7FA"},children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.6rem,4vw,2.4rem)",marginBottom:16},children:["นีโม่ขอฮีลให้\xa0",a.user.name]}),(0,o.jsxs)("p",{style:{fontSize:"clamp(1rem,2.4vw,1.2rem)"},children:["การเริ่มต้นใหม่ในชีวิต",(0,o.jsx)("br",{})," ไม่ว่าจะร้ายหรือดีทุกอย่างเป็นบทเรียนเองนะ ",(0,o.jsx)("br",{})," เเล้วพายุจะผ่านไป"]})]})})]});case"flower":return(0,o.jsx)(h,{userName:a.user.name,onComplete:(e,r)=>{c(t=>({...t,flower:{color:e,feeling:r}})),t("skyMessage")}});case"skyMessage":return(0,o.jsx)(b,{videoSrc:"/train.mp4",userName:a.user.name,onDone:e=>{c(t=>({...t,sky:e})),t("Table")}});case"Table":return(0,o.jsx)(j,{tableImgSrc:"/table/1.png",userName:a.user.name,happyThing:a.sky.happyThing,onFinish:e=>{c(t=>({...t,table:e})),t("Self")}});case"Self":return(0,o.jsx)(S,{userName:a.user.name,childImg:"/child/1.png",onChoose:e=>{c(t=>({...t,self:{selfChoice:e}})),t("ChildJourney")}});case"ChildJourney":return(0,o.jsx)(C,{onComplete:e=>{c(t=>({...t,childJourney:e})),t("NemoMessage")}});case"NemoMessage":return(0,o.jsx)(A,{onComplete:e=>{let r={...a,nemo:e};c(r),console.log("Saving all data to Firebase:",r),(0,I.c)(r).then(e=>{e.success?console.log("Successfully saved data with ID:",e.id):console.error("Failed to save data:",e.error)}),t("result")}});default:return null}})()]})}},6104:(e,t,r)=>{"use strict";r.d(t,{c:()=>s,db:()=>l});var o=r(3915),n=r(5317);let i=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)({apiKey:"AIzaSyA_ucoMZQXQo1dEe4lxxR2IaUKhIyS0S8k",authDomain:"nemoheal-32e6b.firebaseapp.com",projectId:"nemoheal-32e6b",storageBucket:"nemoheal-32e6b.appspot.com",messagingSenderId:"1087905726832",appId:"1:1087905726832:web:d4eb26ae4ad8c395278fb5",measurementId:"G-5R2GWZWLBB"}),l=(0,n.aU)(i);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;try{let r=await (0,n.gS)((0,n.rJ)(t,"userJourneys"),{...e,createdAt:(0,n.O5)()});return{success:!0,id:r.id}}catch(e){return console.error("saveDataToFirebase error:",e),{success:!1,error:e}}}},7828:(e,t,r)=>{Promise.resolve().then(r.bind(r,3618))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,316,592,399,802,441,684,358],()=>t(7828)),_N_E=e.O()}]);