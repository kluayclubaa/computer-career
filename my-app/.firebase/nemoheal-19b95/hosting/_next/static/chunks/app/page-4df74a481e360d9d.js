(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var o=r(5155),n=r(2115),i=r(2699),a=r.n(i),l=r(802);let s=e=>{let{videoSrc:t,audioSrc:r,onVideoReady:i}=e,a=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useEffect)(()=>(a.current&&(l.Ay.fromTo(a.current,{opacity:0},{opacity:1,duration:2,ease:"power2.inOut"}),a.current.oncanplaythrough=()=>{i()}),s.current&&(s.current.volume=0,s.current.play().catch(e=>console.error("Audio play failed:",e)),l.Ay.to(s.current,{volume:.3,duration:3,ease:"power1.in"})),()=>{s.current&&(s.current.pause(),s.current.currentTime=0)}),[i]),(0,o.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:-1,backgroundColor:"black"},children:[(0,o.jsx)("video",{ref:a,src:t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",opacity:0}}),r&&(0,o.jsx)("audio",{ref:s,src:r,loop:!0,children:"Your browser does not support the audio element."})]})},d={position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",padding:20,zIndex:20,boxSizing:"border-box"},c={fontSize:"clamp(1.3rem,4vw,2.3rem)",textAlign:"center",lineHeight:1.6,maxWidth:"90%",textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},u={width:"90%",maxWidth:650,textAlign:"center",backdropFilter:"blur(6px)",background:"rgba(0,0,0,0.45)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:20,padding:"2.2rem 1.8rem",boxSizing:"border-box"},m={width:"100%",padding:"0.9rem 1rem",borderRadius:40,border:"1px solid rgba(255,255,255,.4)",background:"rgba(255,255,255,.15)",color:"white",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"transform .25s ease"},p=e=>{let{userName:t,storyIntro:r="สวัสดีคนเก่ง",onOverlayComplete:i}=e,a=(0,n.useRef)(null),s=(0,n.useRef)(null),p=(0,n.useRef)(null),y=(0,n.useRef)(null),x=(0,n.useRef)(null),[h,g]=(0,n.useState)("intro"),[f,b]=(0,n.useState)(""),[w,v]=(0,n.useState)(5),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e&&l.Ay.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:t,ease:"power2.out"})},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0;return e&&l.Ay.to(e,{opacity:0,y:-30,duration:t,ease:"power2.in",delay:r,onComplete:o})};return(0,n.useEffect)(()=>{"intro"===h&&(j(a.current,1.3),S(a.current,1,4,()=>g("form")))},[h]),(0,n.useEffect)(()=>{"form"===h&&j(s.current,1)},[h]),(0,n.useEffect)(()=>{"holiday"===h&&(j(p.current,1.2),S(p.current,1,3,()=>g("rest")))},[h]),(0,n.useEffect)(()=>{"rest"===h&&(j(y.current,1.2),S(y.current,1,3,()=>g("choice")))},[h]),(0,n.useEffect)(()=>{"choice"===h&&j(x.current,1)},[h]),(0,o.jsxs)("div",{style:d,children:["intro"===h&&(0,o.jsx)("p",{ref:a,style:c,children:r}),"form"===h&&(0,o.jsxs)("div",{ref:s,style:u,children:[(0,o.jsx)("h2",{style:{fontSize:"clamp(1.4rem,4.2vw,2rem)",marginBottom:"1.3rem"},children:"มีอะไรอยากเล่าไหม\xa0นีโม่พร้อมรับฟัง"}),(0,o.jsx)("textarea",{value:f,onChange:e=>b(e.target.value),placeholder:"พิมพ์เล่าได้เต็มที่เลย...",rows:4,style:{width:"100%",padding:"1rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.15)",color:"white",resize:"vertical",marginBottom:"1.5rem",boxSizing:"border-box"}}),(0,o.jsxs)("label",{style:{display:"block",marginBottom:".6rem"},children:["เหนื่อยมั้ย\xa0(",(0,o.jsx)("strong",{children:w}),")"]}),(0,o.jsx)("input",{type:"range",min:0,max:10,value:w,onChange:e=>v(Number(e.target.value)),style:{width:"100%"}}),(0,o.jsx)("button",{onClick:()=>{S(s.current,.6,0,()=>g("holiday"))},style:{...m,marginTop:"2rem",background:"#fff",color:"#1a1a1a"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:"ส่งต่อความรู้สึก"})]}),"holiday"===h&&(0,o.jsxs)("p",{ref:p,style:c,children:["วันนี้เป็นวันหยุดของ\xa0",t]}),"rest"===h&&(0,o.jsxs)("p",{ref:y,style:c,children:["ตอนนี้\xa0",t,"\xa0ได้โอกาสพักผ่อนจากทุกเรื่อง"]}),"choice"===h&&(0,o.jsxs)("div",{ref:x,style:u,children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.4rem,4vw,2rem)",marginBottom:"1.6rem"},children:["\xa0",t,"\xa0อยากให้วันนี้",(0,o.jsx)("br",{}),"เป็นวันแบบไหน?"]}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:["วันที่มีเเดดร่ำไรอ่อนๆ","วันที่มีรุ้งกินน้ำหลังฝนตก","วันที่อากาศปลอดโปร่งฟ้าโปร่งใส","วันที่มีเเสงเเดดจ้ามีนกบินมา"].map(e=>(0,o.jsx)("button",{style:m,onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",onClick:()=>i(e),children:e},e))})]})]})},y=e=>{let{onStart:t}=e,r=(0,n.useRef)(null),[i,a]=(0,n.useState)(""),[s,d]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=r.current;if(e){let t=e.querySelector(".home-title"),r=e.querySelector(".home-subtitle"),o=e.querySelector(".home-inputs"),n=e.querySelector(".home-button");l.Ay.timeline().fromTo(t,{y:50,opacity:0},{y:0,opacity:1,duration:1.2,ease:"power3.out"}).fromTo(r,{y:30,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out"},"-=0.9").fromTo(o,{y:20,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out"},"-=0.8").fromTo(n,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"elastic.out(1, 0.75)"},"-=0.7")}},[]),(0,o.jsxs)("div",{ref:r,style:{backgroundColor:"black",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",position:"absolute",top:0,left:0,zIndex:100,padding:"5vw",textAlign:"center",boxSizing:"border-box"},children:[(0,o.jsxs)("h1",{className:"home-title",style:{fontSize:"clamp(2rem, 6vw, 4rem)",textShadow:"3px 3px 6px rgba(0,0,0,0.5)",marginBottom:"1rem",lineHeight:"1.3"},children:["สวัสดี ยินดีคนเก่ง",(0,o.jsx)("br",{})," ต้อนรับสู่นีโม่ขอฮีล"]}),(0,o.jsx)("p",{className:"home-subtitle",style:{fontSize:"clamp(1rem, 3.5vw, 1.5rem)",maxWidth:"90%",color:"#E0E0E0",textShadow:"1px 1px 3px rgba(0,0,0,0.7)",marginBottom:"2rem",lineHeight:"1.6"},children:"เเฮร่! ว่าเเต่คนเก่งชื่ออะไรเอ่ย"}),(0,o.jsxs)("div",{className:"home-inputs",style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"400px",marginBottom:"2.5rem"},children:[(0,o.jsx)("input",{type:"text",placeholder:"ชื่อของคุณ",value:i,onChange:e=>a(e.target.value),style:{fontSize:"clamp(1rem, 3vw, 1.1rem)",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.5)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",textAlign:"center",width:"100%",boxSizing:"border-box"}}),(0,o.jsx)("input",{type:"number",placeholder:"อายุ",value:s,onChange:e=>d(e.target.value),style:{fontSize:"clamp(1rem, 3vw, 1.1rem)",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.5)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",textAlign:"center",width:"100%",boxSizing:"border-box"}})]}),(0,o.jsx)("button",{className:"home-button",onClick:()=>{if(!i.trim()||!s.trim())return void alert("เเฮร่! บอกชื่อกับอายุก่อนสิคนเก่ง");r.current&&l.Ay.to(r.current,{opacity:0,duration:.8,ease:"power2.in",onComplete:()=>t(i,s)})},style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)",fontWeight:"bold",color:"#1a1a1a",backgroundColor:"#FFFFFF",padding:"1rem 2.5rem",borderRadius:"50px",border:"none",cursor:"pointer",boxShadow:"0 5px 20px rgba(255, 255, 255, 0.3)",transition:"transform 0.3s ease, box-shadow 0.3s ease",letterSpacing:"1px",maxWidth:"90vw",whiteSpace:"nowrap"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-5px) scale(1.05)",e.currentTarget.style.boxShadow="0 8px 25px rgba(255, 255, 255, 0.4)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 5px 20px rgba(255, 255, 255, 0.3)"},children:"มาร่วมเดินทางไปกับเราสิ"})]})},x={width:"100%",padding:"1rem",fontSize:"1rem",border:"1px solid #CCCCCC",borderRadius:"8px",boxSizing:"border-box",textAlign:"center"},h={marginTop:"3rem",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"bold",color:"white",backgroundColor:"#007AFF",border:"none",borderRadius:"50px",cursor:"pointer",transition:"transform 0.2s ease, background-color 0.2s ease"},g=e=>{let{onComplete:t}=e,r=(0,n.useRef)(null),[i,a]=(0,n.useState)("yes"),[s,d]=(0,n.useState)(""),[c,u]=(0,n.useState)("");(0,n.useEffect)(()=>{l.Ay.fromTo(r.current,{opacity:0,y:30},{opacity:1,y:0,duration:1,ease:"power3.out"})},[]);let m="yes"===i;return(0,o.jsxs)("div",{ref:r,style:{backgroundColor:"#FFFFFF",color:"#4A4A4A",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",boxSizing:"border-box",fontFamily:"sans-serif"},children:[(0,o.jsx)("h2",{style:{fontSize:"clamp(1.5rem, 5vw, 2.2rem)",fontWeight:"normal",marginBottom:"0.5rem"},children:"ต้องการความช่วยเหลือไหมคะ"}),(0,o.jsx)("p",{style:{fontSize:"1.5rem",marginBottom:"2rem"},children:"^^"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"2rem",marginBottom:"3rem",fontSize:"1.1rem"},children:[(0,o.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,o.jsx)("input",{type:"radio",name:"help",value:"yes",checked:"yes"===i,onChange:()=>a("yes"),style:{marginRight:"0.5rem",transform:"scale(1.3)"}}),"ต้องการ"]}),(0,o.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,o.jsx)("input",{type:"radio",name:"help",value:"no",checked:"no"===i,onChange:()=>a("no"),style:{marginRight:"0.5rem",transform:"scale(1.3)"}}),"ไม่ต้องการ"]})]}),(0,o.jsxs)("div",{style:{width:"100%",maxWidth:"400px",transition:"opacity 0.5s ease, transform 0.5s ease",opacity:m?1:.5,transform:m?"translateY(0)":"translateY(-10px)"},children:[(0,o.jsx)("p",{style:{fontSize:"1.2rem",marginBottom:"1.5rem",borderBottom:"1px solid #E0E0E0",paddingBottom:"0.5rem"},children:"ช่องทางการติดต่อเพิ่มเติม"}),(0,o.jsx)("input",{type:"text",placeholder:"ID Line",value:s,onChange:e=>d(e.target.value),disabled:!m,style:{...x,marginBottom:"1rem"}}),(0,o.jsx)("input",{type:"text",placeholder:"เบอร์มือถือ",value:c,onChange:e=>u(e.target.value),disabled:!m,style:x})]}),(0,o.jsx)("button",{onClick:()=>{if("yes"===i&&!s.trim()&&!c.trim())return void alert("หากต้องการความช่วยเหลือ กรุณากรอกช่องทางการติดต่ออย่างน้อย 1 ช่องทางนะคะ");l.Ay.to(r.current,{opacity:0,y:-30,duration:.8,ease:"power2.in",onComplete:()=>{t({helpNeeded:i,lineId:"yes"===i?s:"",phone:"yes"===i?c:""})}})},style:h,children:"ยืนยันและเดินทางต่อ"})]})},f=()=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),(0,o.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,o.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]});function b(){let[e,t]=(0,n.useState)("home"),[r,i]=(0,n.useState)("awake"),[d,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{b.current&&l.Ay.fromTo(b.current,{opacity:0},{opacity:1,duration:.8,ease:"power2.out"})},[e]),(0,n.useEffect)(()=>{let o;if("wake"===e)return"awake"===r&&(l.Ay.fromTo("#wake-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),l.Ay.to("#wake-msg",{opacity:0,y:-30,duration:1,delay:2.5}),o=setTimeout(()=>i("sky"),3e3)),"sky"===r&&(l.Ay.fromTo("#sky-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),l.Ay.to("#sky-msg",{opacity:0,y:-30,duration:1,delay:4}),o=setTimeout(()=>i("garden"),6e3)),"garden"===r&&(l.Ay.fromTo("#garden-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),o=setTimeout(()=>t("result"),5e3)),()=>clearTimeout(o)},[e,r]);let w=(0,n.useCallback)((e,r)=>{c({name:e,age:r}),t("contact")},[]),v=(0,n.useCallback)(e=>{m(e),t("introVideo"),console.log("All collected info:",{...d,...e})},[d]),j=async()=>{if(b.current){h(!0);try{var e,t;let r=await a()(b.current,{useCORS:!0,allowTaint:!0,onclone:e=>{let t=e.querySelector("#share-button");t&&(t.style.display="none")}}),o=await new Promise(e=>r.toBlob(e,"image/png"));if(!o)throw Error("toBlob error");let n=new File([o],"my-journey.png",{type:"image/png"});if(null==(e=(t=navigator).canShare)?void 0:e.call(t,{files:[n]}))await navigator.share({title:"My Journey",text:"นี่คือเส้นทางการฮีลของฉัน ลองมาดูกันสิ!",files:[n]});else{let e=document.createElement("a");e.href=URL.createObjectURL(o),e.download="my-journey.png",e.click()}}catch(e){console.error(e),navigator.clipboard.writeText("ลองมาฮีลใจกับนีโม่สิ! [ใส่ลิงก์]"),alert("แชร์รูปไม่ได้ จึงคัดลอกข้อความให้แทนแล้วนะ")}finally{h(!1)}}};return(0,o.jsx)("div",{ref:b,style:{position:"relative",width:"100vw",height:"100dvh",overflow:"hidden"},children:(()=>{switch(e){case"home":return(0,o.jsx)(y,{onStart:w});case"contact":return(0,o.jsx)(g,{onComplete:v});case"introVideo":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{videoSrc:"/garden1.mp4",audioSrc:"/rapid-train.mp3",onVideoReady:()=>{}}),d&&(0,o.jsx)(p,{userName:d.name,onOverlayComplete:()=>{i("awake"),t("wake")}})]});case"wake":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{videoSrc:"/wake.mp4",audioSrc:"/wake-sound.mp3",onVideoReady:()=>{}}),(0,o.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:50,pointerEvents:"none"},children:["awake"===r&&(0,o.jsxs)("p",{id:"wake-msg",style:{fontSize:"clamp(1.6rem,4vw,2.6rem)",color:"#FFF",textShadow:"2px 2px 6px #000"},children:["ตอนนี้\xa0",null==d?void 0:d.name,"\xa0กำลังตื่นจากที่นอน"]}),"sky"===r&&(0,o.jsxs)("p",{id:"sky-msg",style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#E0F7FA",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.5,padding:"0 5vw"},children:["แล้ววันนี้เป็นวันที่\xa0",null==d?void 0:d.name,"\xa0ต้องการ…",(0,o.jsx)("br",{}),"ช่างแปลกแฮะ\xa0ท้องฟ้าดูไม่มืดครึ้มเลย"]}),"sky"===r&&(0,o.jsxs)("p",{id:"sky-msg",style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#E0F7FA",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.5,padding:"0 5vw"},children:["คุณกําลังเดินไปที่สวนหลังบ้าน",(0,o.jsx)("br",{}),"บ้านที่คุณอยู่\xa0สวนดอกไม้สวยมากๆเลย"]})]})]});case"result":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{videoSrc:"/garden1.mp4",audioSrc:"/rapid-train.mp3",onVideoReady:()=>{}}),d&&(0,o.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:50},children:(0,o.jsxs)("div",{style:{background:"rgba(0,0,0,.7)",backdropFilter:"blur(10px)",padding:"clamp(20px,5vw,40px)",borderRadius:20,maxWidth:700,textAlign:"center",color:"#E0F7FA"},children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.6rem,4vw,2.4rem)",marginBottom:16},children:["นีโม่ขอฮีลให้\xa0",d.name]}),(0,o.jsx)("p",{style:{fontSize:"clamp(1rem,2.4vw,1.2rem)"},children:"ขอให้วันนี้เป็นวันพักผ่อนที่สบายใจนะ \uD83D\uDC99"}),(0,o.jsxs)("button",{id:"share-button",disabled:x,onClick:j,style:{display:"flex",alignItems:"center",gap:8,margin:"2rem auto 0",padding:"12px 24px",fontWeight:700,borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:x?"rgba(255,255,255,.2)":"rgba(255,255,255,.15)",cursor:x?"wait":"pointer"},children:[(0,o.jsx)(f,{}),x?"กำลังสร้างรูป...":"แชร์ผล"]})]})})]});default:return null}})()})}},7828:(e,t,r)=>{Promise.resolve().then(r.bind(r,421))}},e=>{var t=t=>e(e.s=t);e.O(0,[316,592,802,441,684,358],()=>t(7828)),_N_E=e.O()}]);