(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var o=r(5155),n=r(2115),i=r(2699),l=r.n(i),s=r(802);let a=e=>{let{videoSrc:t,audioSrc:r,onVideoReady:i}=e,l=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useEffect)(()=>(l.current&&(s.Ay.fromTo(l.current,{opacity:0},{opacity:1,duration:2,ease:"power2.inOut"}),l.current.oncanplaythrough=()=>{i()}),a.current&&(a.current.volume=0,a.current.play().catch(e=>console.error("Audio play failed:",e)),s.Ay.to(a.current,{volume:.3,duration:3,ease:"power1.in"})),()=>{a.current&&(a.current.pause(),a.current.currentTime=0)}),[i]),(0,o.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",zIndex:-1,backgroundColor:"black"},children:[(0,o.jsx)("video",{ref:l,src:t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",opacity:0}}),r&&(0,o.jsx)("audio",{ref:a,src:r,loop:!0,children:"Your browser does not support the audio element."})]})},d={position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",padding:20,zIndex:20,boxSizing:"border-box"},c={fontSize:"clamp(1.3rem,4vw,2.3rem)",textAlign:"center",lineHeight:1.6,maxWidth:"90%",textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},u={width:"90%",maxWidth:650,textAlign:"center",backdropFilter:"blur(6px)",background:"rgba(0,0,0,0.45)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:20,padding:"2.2rem 1.8rem",boxSizing:"border-box"},m={width:"100%",padding:"0.9rem 1rem",borderRadius:40,border:"1px solid rgba(255,255,255,.4)",background:"rgba(255,255,255,.15)",color:"white",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"transform .25s ease"},p=e=>{let{userName:t,storyIntro:r="สวัสดีคนเก่ง",onOverlayComplete:i}=e,l=(0,n.useRef)(null),a=(0,n.useRef)(null),p=(0,n.useRef)(null),x=(0,n.useRef)(null),f=(0,n.useRef)(null),[g,y]=(0,n.useState)("intro"),[h,b]=(0,n.useState)(""),[w,j]=(0,n.useState)(5),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e&&s.Ay.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:t,ease:"power2.out"})},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0;return e&&s.Ay.to(e,{opacity:0,y:-30,duration:t,ease:"power2.in",delay:r,onComplete:o})};return(0,n.useEffect)(()=>{"intro"===g&&(v(l.current,1.3),S(l.current,1,4,()=>y("form")))},[g]),(0,n.useEffect)(()=>{"form"===g&&v(a.current,1)},[g]),(0,n.useEffect)(()=>{"holiday"===g&&(v(p.current,1.2),S(p.current,1,3,()=>y("rest")))},[g]),(0,n.useEffect)(()=>{"rest"===g&&(v(x.current,1.2),S(x.current,1,3,()=>y("choice")))},[g]),(0,n.useEffect)(()=>{"choice"===g&&v(f.current,1)},[g]),(0,o.jsxs)("div",{style:d,children:["intro"===g&&(0,o.jsx)("p",{ref:l,style:c,children:r}),"form"===g&&(0,o.jsxs)("div",{ref:a,style:u,children:[(0,o.jsx)("h2",{style:{fontSize:"clamp(1.4rem,4.2vw,2rem)",marginBottom:"1.3rem"},children:"มีอะไรอยากเล่าไหม\xa0นีโม่พร้อมรับฟัง"}),(0,o.jsx)("textarea",{value:h,onChange:e=>b(e.target.value),placeholder:"พิมพ์เล่าได้เต็มที่เลย...",rows:4,style:{width:"100%",padding:"1rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.15)",color:"white",resize:"vertical",marginBottom:"1.5rem",boxSizing:"border-box"}}),(0,o.jsxs)("label",{style:{display:"block",marginBottom:".6rem"},children:["เหนื่อยมั้ย\xa0(",(0,o.jsx)("strong",{children:w}),")"]}),(0,o.jsx)("input",{type:"range",min:0,max:10,value:w,onChange:e=>j(Number(e.target.value)),style:{width:"100%"}}),(0,o.jsx)("button",{onClick:()=>{S(a.current,.6,0,()=>y("holiday"))},style:{...m,marginTop:"2rem",background:"#fff",color:"#1a1a1a"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:"ส่งต่อความรู้สึก"})]}),"holiday"===g&&(0,o.jsxs)("p",{ref:p,style:c,children:["วันนี้เป็นวันหยุดของ\xa0",t]}),"rest"===g&&(0,o.jsxs)("p",{ref:x,style:c,children:["ตอนนี้\xa0",t,"\xa0ได้โอกาสพักผ่อนจากทุกเรื่อง"]}),"choice"===g&&(0,o.jsxs)("div",{ref:f,style:u,children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.4rem,4vw,2rem)",marginBottom:"1.6rem"},children:["\xa0",t,"\xa0อยากให้วันนี้",(0,o.jsx)("br",{}),"เป็นวันแบบไหน?"]}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:["วันที่มีเเดดร่ำไรอ่อนๆ","วันที่มีรุ้งกินน้ำหลังฝนตก","วันที่อากาศปลอดโปร่งฟ้าโปร่งใส","วันที่มีเเสงเเดดจ้ามีนกบินมา"].map(e=>(0,o.jsx)("button",{style:m,onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",onClick:()=>i(e),children:e},e))})]})]})},x=e=>{let{onStart:t}=e,r=(0,n.useRef)(null),[i,l]=(0,n.useState)(""),[a,d]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=r.current;if(e){let t=e.querySelector(".home-title"),r=e.querySelector(".home-subtitle"),o=e.querySelector(".home-inputs"),n=e.querySelector(".home-button");s.Ay.timeline().fromTo(t,{y:50,opacity:0},{y:0,opacity:1,duration:1.2,ease:"power3.out"}).fromTo(r,{y:30,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out"},"-=0.9").fromTo(o,{y:20,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out"},"-=0.8").fromTo(n,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"elastic.out(1, 0.75)"},"-=0.7")}},[]),(0,o.jsxs)("div",{ref:r,style:{backgroundColor:"black",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",position:"absolute",top:0,left:0,zIndex:100,padding:"5vw",textAlign:"center",boxSizing:"border-box"},children:[(0,o.jsx)("button",{}),(0,o.jsxs)("h1",{className:"home-title",style:{fontSize:"clamp(2rem, 6vw, 4rem)",textShadow:"3px 3px 6px rgba(0,0,0,0.5)",marginBottom:"1rem",lineHeight:"1.3"},children:["สวัสดี ยินดีคนเก่ง",(0,o.jsx)("br",{})," ต้อนรับสู่นีโม่ขอฮีล"]}),(0,o.jsx)("p",{className:"home-subtitle",style:{fontSize:"clamp(1rem, 3.5vw, 1.5rem)",maxWidth:"90%",color:"#E0E0E0",textShadow:"1px 1px 3px rgba(0,0,0,0.7)",marginBottom:"2rem",lineHeight:"1.6"},children:"เเฮร่! ว่าเเต่คนเก่งชื่ออะไรเอ่ย"}),(0,o.jsxs)("div",{className:"home-inputs",style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"400px",marginBottom:"2.5rem"},children:[(0,o.jsx)("input",{type:"text",placeholder:"ชื่อของคุณ",value:i,onChange:e=>l(e.target.value),style:{fontSize:"clamp(1rem, 3vw, 1.1rem)",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.5)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",textAlign:"center",width:"100%",boxSizing:"border-box"}}),(0,o.jsx)("input",{type:"number",placeholder:"อายุ",value:a,onChange:e=>d(e.target.value),style:{fontSize:"clamp(1rem, 3vw, 1.1rem)",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.5)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",textAlign:"center",width:"100%",boxSizing:"border-box"}})]}),(0,o.jsx)("button",{className:"home-button",onClick:()=>{if(!i.trim()||!a.trim())return void alert("เเฮร่! บอกชื่อกับอายุก่อนสิคนเก่ง");r.current&&s.Ay.to(r.current,{opacity:0,duration:.8,ease:"power2.in",onComplete:()=>t(i,a)})},style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)",fontWeight:"bold",color:"#1a1a1a",backgroundColor:"#FFFFFF",padding:"1rem 2.5rem",borderRadius:"50px",border:"none",cursor:"pointer",boxShadow:"0 5px 20px rgba(255, 255, 255, 0.3)",transition:"transform 0.3s ease, box-shadow 0.3s ease",letterSpacing:"1px",maxWidth:"90vw",whiteSpace:"nowrap"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-5px) scale(1.05)",e.currentTarget.style.boxShadow="0 8px 25px rgba(255, 255, 255, 0.4)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 5px 20px rgba(255, 255, 255, 0.3)"},children:"มาร่วมเดินทางไปกับเราสิ"})]})},f={width:"100%",padding:"1rem",fontSize:"1rem",border:"1px solid #CCCCCC",borderRadius:"8px",boxSizing:"border-box",textAlign:"center"},g={marginTop:"3rem",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"bold",color:"white",backgroundColor:"#007AFF",border:"none",borderRadius:"50px",cursor:"pointer",transition:"transform 0.2s ease, background-color 0.2s ease"},y=e=>{let{onComplete:t}=e,r=(0,n.useRef)(null),[i,l]=(0,n.useState)("yes"),[a,d]=(0,n.useState)(""),[c,u]=(0,n.useState)("");(0,n.useEffect)(()=>{s.Ay.fromTo(r.current,{opacity:0,y:30},{opacity:1,y:0,duration:1,ease:"power3.out"})},[]);let m="yes"===i;return(0,o.jsxs)("div",{ref:r,style:{backgroundColor:"#FFFFFF",color:"#4A4A4A",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",boxSizing:"border-box",fontFamily:"sans-serif"},children:[(0,o.jsx)("h2",{style:{fontSize:"clamp(1.5rem, 5vw, 2.2rem)",fontWeight:"normal",marginBottom:"0.5rem"},children:"ต้องการความช่วยเหลือไหมคะ"}),(0,o.jsx)("p",{style:{fontSize:"1.5rem",marginBottom:"2rem"},children:"^^"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"2rem",marginBottom:"3rem",fontSize:"1.1rem"},children:[(0,o.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,o.jsx)("input",{type:"radio",name:"help",value:"yes",checked:"yes"===i,onChange:()=>l("yes"),style:{marginRight:"0.5rem",transform:"scale(1.3)"}}),"ต้องการ"]}),(0,o.jsxs)("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,o.jsx)("input",{type:"radio",name:"help",value:"no",checked:"no"===i,onChange:()=>l("no"),style:{marginRight:"0.5rem",transform:"scale(1.3)"}}),"ไม่ต้องการ"]})]}),(0,o.jsxs)("div",{style:{width:"100%",maxWidth:"400px",transition:"opacity 0.5s ease, transform 0.5s ease",opacity:m?1:.5,transform:m?"translateY(0)":"translateY(-10px)"},children:[(0,o.jsx)("p",{style:{fontSize:"1.2rem",marginBottom:"1.5rem",borderBottom:"1px solid #E0E0E0",paddingBottom:"0.5rem"},children:"ช่องทางการติดต่อเพิ่มเติม"}),(0,o.jsx)("input",{type:"text",placeholder:"ID Line",value:a,onChange:e=>d(e.target.value),disabled:!m,style:{...f,marginBottom:"1rem"}}),(0,o.jsx)("input",{type:"text",placeholder:"เบอร์มือถือ",value:c,onChange:e=>u(e.target.value),disabled:!m,style:f})]}),(0,o.jsx)("button",{onClick:()=>{if("yes"===i&&!a.trim()&&!c.trim())return void alert("หากต้องการความช่วยเหลือ กรุณากรอกช่องทางการติดต่ออย่างน้อย 1 ช่องทางนะคะ");s.Ay.to(r.current,{opacity:0,y:-30,duration:.8,ease:"power2.in",onComplete:()=>{t({helpNeeded:i,lineId:"yes"===i?a:"",phone:"yes"===i?c:""})}})},style:g,children:"ยืนยันและเดินทางต่อ"})]})},h=["แดง","ชมพู","เขียว","ขาว","ม่วง","น้ำเงิน"],b=["ความรัก","ความอ่อนโยนเอาใจใส่","ความบริสุทธิ","ความลึกลับ","ความสงบเงียบ","ความสบายใจ"],w=e=>{let{userName:t,onComplete:r}=e,[i,l]=(0,n.useState)("gift"),[d,c]=(0,n.useState)(""),u=(0,n.useRef)(null),m=(0,n.useRef)(null),p=(0,n.useRef)(null),x=(0,n.useRef)(null),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.4;return e&&s.Ay.fromTo(e,{opacity:0,y:40},{opacity:1,y:0,duration:t,ease:"power3.out"})},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e&&s.Ay.to(e,{opacity:0,y:-40,duration:t,delay:r,ease:"power3.in"})};(0,n.useEffect)(()=>{if(u.current&&("gift"===i&&(f(p.current,1.6),s.Ay.fromTo(x.current,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1.6,ease:"elastic.out(1,0.6)",delay:.4})),("askColor"===i||"askFeeling"===i)&&f(m.current,1.6),"giftAll"===i)){f(m.current,1.6);let e=setTimeout(()=>r(d,y.current),5e3);return()=>clearTimeout(e)}},[i]);let y=(0,n.useRef)(""),w=e=>{c(e),g(m.current,1.2),setTimeout(()=>l("askFeeling"),1400)},j=e=>{y.current=e,g(m.current,1.2),setTimeout(()=>l("giftAll"),1400)},v=(0,n.useMemo)(()=>(0,o.jsx)(a,{videoSrc:"/garden1.mp4",audioSrc:"",onVideoReady:()=>{}},"flowerBg"),[]);return(0,o.jsxs)("div",{ref:u,style:{position:"absolute",inset:0,background:"gift"===i?"#000":"transparent",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white",zIndex:60},children:["gift"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.6rem,5vw,3rem)",marginBottom:"1.6rem",textShadow:"2px 2px 6px #000"},children:["อะนี่ดอกไม้ให้\xa0",t]}),(0,o.jsx)("img",{ref:p,src:"/flower/1.png",alt:"flower",style:{maxWidth:"55vw",width:280,borderRadius:20,boxShadow:"0 4px 20px rgba(255,255,255,0.25)",marginBottom:"1.8rem"}}),(0,o.jsxs)("p",{style:{fontSize:"clamp(1rem,3vw,1.4rem)",marginBottom:"2.2rem",lineHeight:1.6},children:["รู้มั้ย\xa0มันเหมาะกับ\xa0",t,"\xa0มาก"]}),(0,o.jsx)("button",{ref:x,onClick:()=>l("askColor"),style:{width:80,height:80,borderRadius:"50%",border:"none",background:"rgba(255,255,255,0.18)",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2.2rem",color:"#FF6B6B",cursor:"pointer"},children:"❤️"})]}),"gift"!==i&&v,("askColor"===i||"askFeeling"===i||"giftAll"===i)&&(0,o.jsxs)("div",{ref:m,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0 5vw",textAlign:"center"},children:["askColor"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.2rem)",marginBottom:"2.4rem",textShadow:"2px 2px 6px #0006"},children:["ถ้า\xa0Nemo\xa0ให้ดอกไม้\xa0",t,(0,o.jsx)("br",{}),"อยากได้ดอกไม้สีอะไร?"]}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(120px,1fr))",gap:"1.2rem",width:"100%",maxWidth:620},children:h.map(e=>(0,o.jsx)("button",{onClick:()=>w(e),style:{padding:"1rem 1.2rem",borderRadius:38,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(0,0,0,0.35)",color:"white",fontSize:"1rem",cursor:"pointer"},children:e},e))})]}),"askFeeling"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.2rem)",marginBottom:"2.4rem",textShadow:"2px 2px 6px #0006"},children:["เมื่อคุณเห็นดอกไม้ที่ตัวเองเลือก",(0,o.jsx)("br",{}),"ทำให้รู้สึกอย่างไร?"]}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(140px,1fr))",gap:"1.2rem",width:"100%",maxWidth:700},children:b.map(e=>(0,o.jsx)("button",{onClick:()=>j(e),style:{padding:"1rem 1.2rem",borderRadius:38,border:"1px solid rgba(255,255,255,0.5)",background:"rgba(0,0,0,0.35)",color:"white",fontSize:"1rem",cursor:"pointer"},children:e},e))})]}),"giftAll"===i&&(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.2rem)",textShadow:"2px 2px 6px #0006"},children:["อะนี่\xa0Nemo\xa0ให้ทุกสีเลย!",(0,o.jsx)("br",{}),"เราให้พิเศษเพราะ\xa0",t,"\xa0เป็นคนที่มีค่ามากเลยนะ \uD83D\uDC90"]})]})]})};function j(e){let{videoSrc:t,userName:r,onDone:i}=e,[l,d]=(0,n.useState)("intro"),[c,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(null),[x,f]=(0,n.useState)(""),g={intro:(0,n.useRef)(null),form:(0,n.useRef)(null),empathy:(0,n.useRef)(null),finale:(0,n.useRef)(null),food:(0,n.useRef)(null),noMsg:(0,n.useRef)(null),happy:(0,n.useRef)(null)},y=(0,n.useMemo)(()=>(0,o.jsx)(a,{videoSrc:t,audioSrc:"",onVideoReady:()=>{}}),[t]);(0,n.useEffect)(()=>{var e;let t=null==(e=g[l])?void 0:e.current;t&&s.Ay.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:1.4,ease:"power2.out"})},[l]),(0,n.useEffect)(()=>{if("intro"===l){let e=setTimeout(()=>d("form"),5e3);return()=>clearTimeout(e)}if("finale"===l){let e=setTimeout(()=>d("food"),5e3);return()=>clearTimeout(e)}},[l]),(0,n.useEffect)(()=>{"food"===l&&"no"===m&&g.noMsg.current&&s.Ay.fromTo(g.noMsg.current,{opacity:0,y:15},{opacity:1,y:0,duration:1,ease:"power2.out"})},[l,m]);let h={base:{padding:"0.9rem 2.2rem",borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.25)",color:"#fff",fontSize:"1rem",fontWeight:700,cursor:"pointer"}};return(0,o.jsxs)("div",{style:{position:"absolute",inset:0,zIndex:70,pointerEvents:["form","empathy","food","happy"].includes(l)?"auto":"none"},children:[y,"intro"===l&&(0,o.jsx)("div",{ref:g.intro,style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)("p",{style:{fontSize:"clamp(1.6rem,4vw,2.6rem)",color:"#fff",textShadow:"2px 2px 6px #000",textAlign:"center"},children:"คุณกำลังเข้าสู่ท้องฟ้าอันสดใส"})}),"form"===l&&(0,o.jsxs)("div",{ref:g.form,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.2rem,3.8vw,2rem)",marginBottom:"1.5rem",textShadow:"2px 2px 6px #000"},children:["คุณมองรอบๆ เห็นตัวเองในอดีตที่กำลังเศร้า",(0,o.jsx)("br",{}),"อยากบอกอะไรกับตัวเองมั้ย?"]}),(0,o.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),rows:4,placeholder:"พิมพ์ข้อความถึงตัวเอง...",style:{width:"100%",maxWidth:600,padding:"1rem",borderRadius:16,border:"1px solid rgba(255,255,255,.5)",background:"rgba(0,0,0,.35)",color:"#fff",marginBottom:"1.5rem"}}),(0,o.jsx)("button",{style:h.base,disabled:!c.trim(),onClick:()=>d("empathy"),children:"ส่งข้อความ"})]}),"empathy"===l&&(0,o.jsxs)("div",{ref:g.empathy,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.3rem,4vw,2.2rem)",marginBottom:"2rem",textShadow:"2px 2px 6px #000"},children:["เราเข้าใจ\xa0",r,"\xa0นะ \xa0",r,"\xa0เก่งมาก ๆ เลย",(0,o.jsx)("br",{}),"แตะที่หัวใจสิ \uD83D\uDC96"]}),(0,o.jsx)("button",{style:{width:90,height:90,borderRadius:"50%",border:"none",background:"rgba(255,255,255,.25)",color:"#FF6B6B",fontSize:"2.4rem",cursor:"pointer"},onClick:()=>d("finale"),children:"❤️"})]}),"finale"===l&&(0,o.jsx)("div",{ref:g.finale,style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsxs)("p",{style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#fff",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.6,padding:"0 6vw"},children:["หากในใจ\xa0",r,"\xa0มีท้องฟ้าที่มืดครึ้ม",(0,o.jsx)("br",{}),"ให้เราช่วยเปลี่ยนเป็นท้องฟ้าที่สดใสให้นะ"]})}),"food"===l&&(0,o.jsxs)("div",{ref:g.food,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.3rem,4vw,2.2rem)",marginBottom:"2rem",textShadow:"2px 2px 6px #000"},children:["จำได้มั้ยตอนเด็ก ๆ\xa0",r,"\xa0ชอบกินอะไร?"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"3rem",marginBottom:"2rem"},children:[(0,o.jsxs)("label",{style:{display:"flex",gap:"0.8rem",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"radio",checked:"yes"===m,onChange:()=>p("yes")}),"จำได้"]}),(0,o.jsxs)("label",{style:{display:"flex",gap:"0.8rem",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"radio",checked:"no"===m,onChange:()=>p("no")}),"จำไม่ได้"]})]}),"no"===m&&(0,o.jsx)("p",{ref:g.noMsg,style:{fontSize:"clamp(1.1rem,3.5vw,1.8rem)",textShadow:"2px 2px 6px #000",marginBottom:"2rem"},children:"ไม่เป็นไรนะ ค่อย ๆ นึกไปด้วยกันนะ \uD83E\uDD0D"}),m&&(0,o.jsx)("button",{style:h.base,onClick:()=>d("happy"),children:"ต่อไป"})]}),"happy"===l&&(0,o.jsxs)("div",{ref:g.happy,style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",color:"#fff"},children:[(0,o.jsxs)("p",{style:{fontSize:"clamp(1.3rem,4vw,2.2rem)",marginBottom:"1.5rem",textShadow:"2px 2px 6px #000"},children:["แล้วตอนเด็ก\xa0",r,"\xa0มีความสุขกับเรื่องใดมากที่สุด?"]}),(0,o.jsx)("textarea",{value:x,onChange:e=>f(e.target.value),rows:4,placeholder:"บอกเราหน่อย...",style:{width:"100%",maxWidth:600,padding:"1rem",borderRadius:16,border:"1px solid rgba(255,255,255,.5)",background:"rgba(0,0,0,.35)",color:"#fff",marginBottom:"1.5rem"}}),(0,o.jsx)("button",{style:h.base,disabled:!x.trim(),onClick:()=>{i&&i({msgToPast:c,foodRemember:m,happyThing:x})},children:"ส่งต่อความสุข"})]})]})}function v(e){let{tableImgSrc:t,userName:r,happyThing:i,onFinish:l}=e,[a,d]=(0,n.useState)("table"),[c,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(null),[x,f]=(0,n.useState)(null),[g,y]=(0,n.useState)(null),h={table:(0,n.useRef)(null),notebook:(0,n.useRef)(null),today:(0,n.useRef)(null),dream:(0,n.useRef)(null),stillLike:(0,n.useRef)(null),likeSelf:(0,n.useRef)(null)},b=e=>e&&s.Ay.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:1.4,ease:"power2.out"});(0,n.useEffect)(()=>{var e;b(null==(e=h[a])?void 0:e.current)},[a]),(0,n.useEffect)(()=>{if("notebook"===a){let e=setTimeout(()=>d("today"),3500);return()=>clearTimeout(e)}},[a]),(0,n.useEffect)(()=>{"likeSelf"===a&&g&&m&&x&&"function"==typeof l&&l({howToday:c,dreamStatus:m,likeNow:x,likeSelf:g})},[a,g,m,x,c,l]);let w={wrap:{position:"absolute",inset:0,background:"#000",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 6vw",zIndex:80},p:{textShadow:"2px 2px 6px #000"},btn:{padding:"0.8rem 2rem",borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.25)",color:"#fff",cursor:"pointer"}};return(0,o.jsxs)("div",{style:w.wrap,children:["table"===a&&(0,o.jsxs)("div",{ref:h.table,style:{display:"flex",flexDirection:"column",gap:"1.4rem"},children:[(0,o.jsx)("p",{style:{...w.p,fontSize:"clamp(1.3rem,4vw,2.1rem)"},children:"ระหว่างทางคุณเจอโต๊ะปริศนาที่มีผ้าคลุม"}),(0,o.jsx)("img",{src:t,alt:"Mystery Table",onClick:()=>{let e=h.table.current;e&&s.Ay.to(e,{opacity:0,y:-40,duration:1.2,ease:"power2.inOut",onComplete:()=>d("notebook")})},style:{maxWidth:"60vw",width:320,cursor:"pointer",borderRadius:20,boxShadow:"0 6px 18px rgba(0,0,0,.5)"}}),(0,o.jsx)("span",{style:{fontSize:"clamp(1rem,3vw,1.4rem)",opacity:.85},children:"แตะเพื่อดูใต้ผ้าคลุม"})]}),"notebook"===a&&(0,o.jsxs)("p",{ref:h.notebook,style:{...w.p,fontSize:"clamp(1.4rem,4vw,2.3rem)",lineHeight:1.6},children:["คุณเจอสมุดตอนเด็กที่เคยเขียนไว้\xa0สวัสดี\xa0",r]}),"today"===a&&(0,o.jsxs)("div",{ref:h.today,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)("p",{style:{...w.p,fontSize:"clamp(1.3rem,4vw,2.1rem)",marginBottom:"1.5rem"},children:"วันนี้เป็นไงบ้าง?"}),(0,o.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),rows:3,placeholder:"บอกเราได้เลย...",style:{width:"100%",maxWidth:520,padding:"1rem",borderRadius:14,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.1)",color:"#fff"}}),(0,o.jsx)("button",{style:{...w.btn,marginTop:"1.5rem"},disabled:!c.trim(),onClick:()=>d("dream"),children:"ต่อไป"})]}),"dream"===a&&(0,o.jsxs)("div",{ref:h.dream,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsxs)("p",{style:{...w.p,fontSize:"clamp(1.3rem,4vw,2.1rem)",marginBottom:"2rem"},children:["สิ่งที่ตอนเด็ก\xa0",r,"\xa0อยากทำ ตอนนี้ได้ทำบ้างหรือยัง?"]}),(0,o.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",maxWidth:430},children:[(0,o.jsx)("button",{style:w.btn,onClick:()=>{p("done"),d("stillLike")},children:"ได้ทำแล้วทั้งหมด"}),(0,o.jsx)("button",{style:w.btn,onClick:()=>{p("partial"),d("stillLike")},children:"ทำไปบ้างแล้ว"}),(0,o.jsx)("button",{style:w.btn,onClick:()=>{p("notYet"),d("stillLike")},children:"ยังไม่ได้เริ่ม"}),(0,o.jsx)("button",{style:w.btn,onClick:()=>{p("forgot"),d("stillLike")},children:"ลืมไปแล้ว"})]})]}),"stillLike"===a&&(0,o.jsxs)("div",{ref:h.stillLike,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsxs)("p",{style:{...w.p,fontSize:"clamp(1.3rem,4vw,2.1rem)",marginBottom:"2rem"},children:["ไม่เจอกันนาน\xa0โตขึ้นเยอะเลย",(0,o.jsx)("br",{}),"ยังชอบ\xa0“",i,"”\xa0อยู่หรือเปล่า?"]}),(0,o.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",maxWidth:200},children:[(0,o.jsx)("button",{style:w.btn,onClick:()=>{f("yes"),d("likeSelf")},children:"ยังคงชอบมาก"}),(0,o.jsx)("button",{style:w.btn,onClick:()=>{f("change"),d("likeSelf")},children:"เฉยๆ"}),(0,o.jsx)("button",{style:w.btn,onClick:()=>{f("unsure"),d("likeSelf")},children:"ไม่แน่ใจแล้ว"})]})]}),"likeSelf"===a&&(0,o.jsxs)("div",{ref:h.likeSelf,style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,o.jsxs)("p",{style:{...w.p,fontSize:"clamp(1.3rem,4vw,2.1rem)",marginBottom:"2rem",lineHeight:1.7},children:["งั้นขอถามหน่อยจิ",(0,o.jsx)("br",{}),"ยังชอบตัวเองตอนนี้มั้ย?"]}),(0,o.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",maxWidth:200},children:[(0,o.jsx)("button",{style:{...w.btn,whiteSpace:"nowrap"},onClick:()=>y("yes"),children:"ชอบสิ"}),(0,o.jsx)("button",{style:{...w.btn,whiteSpace:"nowrap"},onClick:()=>y("notReally"),children:"ไม่เเน่ใจ"}),(0,o.jsx)("button",{style:{...w.btn,whiteSpace:"nowrap"},onClick:()=>y("trying"),children:"ไม่อะ"})]})]})]})}let S=e=>{let{userName:t="เธอ",childImg:r,onChoose:i}=e,[l,a]=(0,n.useState)("msg1"),d={msg1:(0,n.useRef)(null),msg2:(0,n.useRef)(null),msg3:(0,n.useRef)(null),msg4:(0,n.useRef)(null),question:(0,n.useRef)(null)},c=e=>{e&&s.Ay.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:1.4,ease:"power2.out"})};(0,n.useEffect)(()=>{if(c(d[l].current),"question"===l)return;let e=setTimeout(()=>{let e=["msg1","msg2","msg3","msg4","question"],t=e.indexOf(l);a(e[t+1])},5e3);return()=>clearTimeout(e)},[l]);let u={fontSize:"clamp(1.3rem,4vw,2.2rem)",color:"#fff",textAlign:"center",textShadow:"2px 2px 6px #000",lineHeight:1.7},m={padding:"0.85rem 2.2rem",borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:"rgba(255,255,255,.25)",color:"#fff",cursor:"pointer",whiteSpace:"nowrap"};return(0,o.jsxs)("div",{style:{position:"absolute",inset:0,background:"#000",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0 6vw",textAlign:"center",zIndex:90},children:["msg1"===l&&(0,o.jsx)("div",{ref:d.msg1,children:(0,o.jsx)("p",{style:u,children:"เราเข้าใจความรู้สึกของเธอนะ ไม่ว่าเธอจะเจอเรื่องอะไรมา"})}),"msg2"===l&&(0,o.jsxs)("div",{ref:d.msg2,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.6rem"},children:[(0,o.jsx)("img",{src:r,alt:"child",style:{maxWidth:"55vw",width:280,borderRadius:20,boxShadow:"0 6px 20px rgba(0,0,0,.6)"}}),(0,o.jsx)("p",{style:u,children:"แต่รู้มั้ย ถ้าเทียบกับเมื่อก่อน…"})]}),"msg3"===l&&(0,o.jsx)("div",{ref:d.msg3,children:(0,o.jsx)("p",{style:u,children:"ตอนเธอยังเด็ก อายุน้อยกว่านี้…"})}),"msg4"===l&&(0,o.jsx)("div",{ref:d.msg4,children:(0,o.jsxs)("p",{style:u,children:["เธอเก่งขึ้นมาก ๆ เลยนะที่เติบโตมาได้ขนาดนี้",(0,o.jsx)("br",{}),"นีโม่ภูมิใจในตัวเธอมาก ๆ เลยนะ"]})}),"question"===l&&(0,o.jsxs)("div",{ref:d.question,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem"},children:[(0,o.jsx)("p",{style:u,children:"แล้วเธอชอบตัวเองตอนไหนมากกว่า?"}),(0,o.jsx)("button",{style:m,onClick:()=>null==i?void 0:i("past"),children:"ตอนเด็ก"}),(0,o.jsx)("button",{style:m,onClick:()=>null==i?void 0:i("now"),children:"ตอนนี้"})]})]})},k=()=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),(0,o.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,o.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]});function C(){let[e,t]=(0,n.useState)("home"),[r,i]=(0,n.useState)("awake"),[d,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[f,g]=(0,n.useState)(!1),h=(0,n.useRef)(null),[b,C]=(0,n.useState)(null);(0,n.useEffect)(()=>{h.current&&s.Ay.fromTo(h.current,{opacity:0},{opacity:1,duration:.8,ease:"power2.out"})},[e]),(0,n.useEffect)(()=>{let o;if("wake"===e)return"awake"===r&&(s.Ay.fromTo("#wake-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),s.Ay.to("#wake-msg",{opacity:0,y:-30,duration:1,delay:2.5}),o=setTimeout(()=>i("sky"),3e3)),"sky"===r&&(s.Ay.fromTo("#sky-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),s.Ay.to("#sky-msg",{opacity:0,y:-30,duration:1,delay:4}),o=setTimeout(()=>i("garden"),3e3)),"garden"===r&&(s.Ay.fromTo("#garden-msg",{opacity:0,y:30},{opacity:1,y:0,duration:1}),o=setTimeout(()=>t("flower"),3e3)),()=>clearTimeout(o)},[e,r]);let R=(0,n.useCallback)((e,r)=>{c({name:e,age:r}),t("contact")},[]),z=(0,n.useCallback)(e=>{m(e),t("introVideo"),console.log("All collected info:",{...d,...e})},[d]),T=(0,n.useMemo)(()=>(0,o.jsx)(a,{videoSrc:"/wake.mp4",audioSrc:"/wake-sound.mp3",onVideoReady:()=>{}},"wakeBg"),[]),A=async()=>{if(h.current){g(!0);try{var e,t;let r=await l()(h.current,{useCORS:!0,allowTaint:!0,onclone:e=>{let t=e.querySelector("#share-button");t&&(t.style.display="none")}}),o=await new Promise(e=>r.toBlob(e,"image/png"));if(!o)throw Error("toBlob error");let n=new File([o],"my-journey.png",{type:"image/png"});if(null==(e=(t=navigator).canShare)?void 0:e.call(t,{files:[n]}))await navigator.share({title:"My Journey",text:"นี่คือเส้นทางการฮีลของฉัน ลองมาดูกันสิ!",files:[n]});else{let e=document.createElement("a");e.href=URL.createObjectURL(o),e.download="my-journey.png",e.click()}}catch(e){console.error(e),navigator.clipboard.writeText("ลองมาฮีลใจกับนีโม่สิ! [ใส่ลิงก์]"),alert("แชร์รูปไม่ได้ จึงคัดลอกข้อความให้แทนแล้วนะ")}finally{g(!1)}}};return(0,o.jsx)("div",{ref:h,style:{position:"relative",width:"100vw",height:"100dvh",overflow:"hidden"},children:(()=>{switch(e){case"home":return(0,o.jsx)(x,{onStart:R});case"contact":return(0,o.jsx)(y,{onComplete:z});case"introVideo":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{videoSrc:"/garden1.mp4",audioSrc:"/rapid-train.mp3",onVideoReady:()=>{}}),d&&(0,o.jsx)(p,{userName:d.name,onOverlayComplete:()=>{i("awake"),t("wake")}})]});case"wake":return(0,o.jsxs)(o.Fragment,{children:[T,(0,o.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:50,pointerEvents:"none"},children:["awake"===r&&(0,o.jsxs)("p",{id:"wake-msg",style:{fontSize:"clamp(1.6rem,4vw,2.6rem)",color:"#FFF",textShadow:"2px 2px 6px #000"},children:["ตอนนี้\xa0",null==d?void 0:d.name,"\xa0กำลังตื่นจากที่นอน"]}),"sky"===r&&(0,o.jsxs)("p",{id:"sky-msg",style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#E0F7FA",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.5,padding:"0 5vw"},children:["แล้ววันนี้เป็นวันที่\xa0",null==d?void 0:d.name,"\xa0ต้องการ…",(0,o.jsx)("br",{}),"ช่างแปลกแฮะ\xa0ท้องฟ้าดูไม่มืดครึ้มเลย"]}),"garden"===r&&(0,o.jsxs)("p",{id:"garden-msg",style:{fontSize:"clamp(1.4rem,4vw,2.4rem)",color:"#E0F7FA",textShadow:"2px 2px 6px #000",textAlign:"center",lineHeight:1.5,padding:"0 5vw"},children:["คุณกําลังเดินไปที่สวนหลังบ้าน",(0,o.jsx)("br",{}),"บ้านที่คุณอยู่\xa0สวนดอกไม้สวยมากๆเลย"]})]})]});case"result":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{videoSrc:"/garden1.mp4",audioSrc:"/rapid-train.mp3",onVideoReady:()=>{}}),d&&(0,o.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:50},children:(0,o.jsxs)("div",{style:{background:"rgba(0,0,0,.7)",backdropFilter:"blur(10px)",padding:"clamp(20px,5vw,40px)",borderRadius:20,maxWidth:700,textAlign:"center",color:"#E0F7FA"},children:[(0,o.jsxs)("h2",{style:{fontSize:"clamp(1.6rem,4vw,2.4rem)",marginBottom:16},children:["นีโม่ขอฮีลให้\xa0",d.name]}),(0,o.jsx)("p",{style:{fontSize:"clamp(1rem,2.4vw,1.2rem)"},children:"ขอให้วันนี้เป็นวันพักผ่อนที่สบายใจนะ \uD83D\uDC99"}),(0,o.jsxs)("button",{id:"share-button",disabled:f,onClick:A,style:{display:"flex",alignItems:"center",gap:8,margin:"2rem auto 0",padding:"12px 24px",fontWeight:700,borderRadius:40,border:"1px solid rgba(255,255,255,.5)",background:f?"rgba(255,255,255,.2)":"rgba(255,255,255,.15)",cursor:f?"wait":"pointer"},children:[(0,o.jsx)(k,{}),f?"กำลังสร้างรูป...":"แชร์ผล"]})]})})]});case"flower":return(0,o.jsx)(w,{userName:d.name,onComplete:(e,r)=>{console.log("picked:",e,r),t("skyMessage")}});case"skyMessage":return(0,o.jsx)(j,{videoSrc:"/train.mp4",userName:d.name,onDone:e=>{C(e),t("Table")}});case"Table":return(0,o.jsx)(v,{tableImgSrc:"/table/1.png",userName:d.name,happyThing:b.happyThing,onFinish:e=>{console.log(e),t("Self")}});case"Self":return(0,o.jsx)(S,{userName:d.name,childImg:"/images/little-kid.png",onChoose:e=>{console.log(e),t("result")}});default:return null}})()})}},7828:(e,t,r)=>{Promise.resolve().then(r.bind(r,7576))}},e=>{var t=t=>e(e.s=t);e.O(0,[316,592,802,441,684,358],()=>t(7828)),_N_E=e.O()}]);